(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function xd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Oa={exports:{}},$s={},$a={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pr=Symbol.for("react.element"),jd=Symbol.for("react.portal"),wd=Symbol.for("react.fragment"),Nd=Symbol.for("react.strict_mode"),kd=Symbol.for("react.profiler"),Sd=Symbol.for("react.provider"),Cd=Symbol.for("react.context"),_d=Symbol.for("react.forward_ref"),Ed=Symbol.for("react.suspense"),Td=Symbol.for("react.memo"),Pd=Symbol.for("react.lazy"),ko=Symbol.iterator;function Rd(e){return e===null||typeof e!="object"?null:(e=ko&&e[ko]||e["@@iterator"],typeof e=="function"?e:null)}var Da={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ma=Object.assign,Fa={};function Fn(e,t,n){this.props=e,this.context=t,this.refs=Fa,this.updater=n||Da}Fn.prototype.isReactComponent={};Fn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function za(){}za.prototype=Fn.prototype;function ki(e,t,n){this.props=e,this.context=t,this.refs=Fa,this.updater=n||Da}var Si=ki.prototype=new za;Si.constructor=ki;Ma(Si,Fn.prototype);Si.isPureReactComponent=!0;var So=Array.isArray,Ua=Object.prototype.hasOwnProperty,Ci={current:null},ba={key:!0,ref:!0,__self:!0,__source:!0};function Ba(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ua.call(t,r)&&!ba.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Pr,type:e,key:i,ref:o,props:s,_owner:Ci.current}}function Ad(e,t){return{$$typeof:Pr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _i(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pr}function Ld(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Co=/\/+/g;function tl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ld(""+e.key):t.toString(36)}function Zr(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pr:case jd:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+tl(o,0):r,So(s)?(n="",e!=null&&(n=e.replace(Co,"$&/")+"/"),Zr(s,t,n,"",function(d){return d})):s!=null&&(_i(s)&&(s=Ad(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Co,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",So(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+tl(i,a);o+=Zr(i,t,n,c,s)}else if(c=Rd(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+tl(i,a++),o+=Zr(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function $r(e,t,n){if(e==null)return e;var r=[],s=0;return Zr(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Id(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},es={transition:null},Od={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:es,ReactCurrentOwner:Ci};function Va(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:$r,forEach:function(e,t,n){$r(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $r(e,function(){t++}),t},toArray:function(e){return $r(e,function(t){return t})||[]},only:function(e){if(!_i(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Fn;Q.Fragment=wd;Q.Profiler=kd;Q.PureComponent=ki;Q.StrictMode=Nd;Q.Suspense=Ed;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Od;Q.act=Va;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ma({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ci.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Ua.call(t,c)&&!ba.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Pr,type:e.type,key:s,ref:i,props:r,_owner:o}};Q.createContext=function(e){return e={$$typeof:Cd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sd,_context:e},e.Consumer=e};Q.createElement=Ba;Q.createFactory=function(e){var t=Ba.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:_d,render:e}};Q.isValidElement=_i;Q.lazy=function(e){return{$$typeof:Pd,_payload:{_status:-1,_result:e},_init:Id}};Q.memo=function(e,t){return{$$typeof:Td,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=es.transition;es.transition={};try{e()}finally{es.transition=t}};Q.unstable_act=Va;Q.useCallback=function(e,t){return Oe.current.useCallback(e,t)};Q.useContext=function(e){return Oe.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Oe.current.useEffect(e,t)};Q.useId=function(){return Oe.current.useId()};Q.useImperativeHandle=function(e,t,n){return Oe.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Oe.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Oe.current.useReducer(e,t,n)};Q.useRef=function(e){return Oe.current.useRef(e)};Q.useState=function(e){return Oe.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Oe.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Oe.current.useTransition()};Q.version="18.3.1";$a.exports=Q;var v=$a.exports;const $d=xd(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd=v,Md=Symbol.for("react.element"),Fd=Symbol.for("react.fragment"),zd=Object.prototype.hasOwnProperty,Ud=Dd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bd={key:!0,ref:!0,__self:!0,__source:!0};function Wa(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)zd.call(t,r)&&!bd.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Md,type:e,key:i,ref:o,props:s,_owner:Ud.current}}$s.Fragment=Fd;$s.jsx=Wa;$s.jsxs=Wa;Oa.exports=$s;var l=Oa.exports,Tl={},Ha={exports:{}},Je={},Qa={exports:{}},Ja={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,L){var $=P.length;P.push(L);e:for(;0<$;){var b=$-1>>>1,B=P[b];if(0<s(B,L))P[b]=L,P[$]=B,$=b;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var L=P[0],$=P.pop();if($!==L){P[0]=$;e:for(var b=0,B=P.length,ae=B>>>1;b<ae;){var K=2*(b+1)-1,ne=P[K],H=K+1,ve=P[H];if(0>s(ne,$))H<B&&0>s(ve,ne)?(P[b]=ve,P[H]=$,b=H):(P[b]=ne,P[K]=$,b=K);else if(H<B&&0>s(ve,$))P[b]=ve,P[H]=$,b=H;else break e}}return L}function s(P,L){var $=P.sortIndex-L.sortIndex;return $!==0?$:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],d=[],y=1,m=null,h=3,j=!1,x=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(P){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=P)r(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(d)}}function g(P){if(w=!1,p(P),!x)if(n(c)!==null)x=!0,O(N);else{var L=n(d);L!==null&&M(g,L.startTime-P)}}function N(P,L){x=!1,w&&(w=!1,f(S),S=-1),j=!0;var $=h;try{for(p(L),m=n(c);m!==null&&(!(m.expirationTime>L)||P&&!I());){var b=m.callback;if(typeof b=="function"){m.callback=null,h=m.priorityLevel;var B=b(m.expirationTime<=L);L=e.unstable_now(),typeof B=="function"?m.callback=B:m===n(c)&&r(c),p(L)}else r(c);m=n(c)}if(m!==null)var ae=!0;else{var K=n(d);K!==null&&M(g,K.startTime-L),ae=!1}return ae}finally{m=null,h=$,j=!1}}var k=!1,C=null,S=-1,T=5,E=-1;function I(){return!(e.unstable_now()-E<T)}function Y(){if(C!==null){var P=e.unstable_now();E=P;var L=!0;try{L=C(!0,P)}finally{L?J():(k=!1,C=null)}}else k=!1}var J;if(typeof u=="function")J=function(){u(Y)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Z=X.port2;X.port1.onmessage=Y,J=function(){Z.postMessage(null)}}else J=function(){_(Y,0)};function O(P){C=P,k||(k=!0,J())}function M(P,L){S=_(function(){P(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||j||(x=!0,O(N))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var $=h;h=L;try{return P()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=h;h=P;try{return L()}finally{h=$}},e.unstable_scheduleCallback=function(P,L,$){var b=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?b+$:b):$=b,P){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=$+B,P={id:y++,callback:L,priorityLevel:P,startTime:$,expirationTime:B,sortIndex:-1},$>b?(P.sortIndex=$,t(d,P),n(c)===null&&P===n(d)&&(w?(f(S),S=-1):w=!0,M(g,$-b))):(P.sortIndex=B,t(c,P),x||j||(x=!0,O(N))),P},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(P){var L=h;return function(){var $=h;h=L;try{return P.apply(this,arguments)}finally{h=$}}}})(Ja);Qa.exports=Ja;var Bd=Qa.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd=v,Qe=Bd;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ka=new Set,fr={};function cn(e,t){An(e,t),An(e+"Capture",t)}function An(e,t){for(fr[e]=t,e=0;e<t.length;e++)Ka.add(t[e])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=Object.prototype.hasOwnProperty,Wd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_o={},Eo={};function Hd(e){return Pl.call(Eo,e)?!0:Pl.call(_o,e)?!1:Wd.test(e)?Eo[e]=!0:(_o[e]=!0,!1)}function Qd(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jd(e,t,n,r){if(t===null||typeof t>"u"||Qd(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_e[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ei=/[\-:]([a-z])/g;function Ti(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ei,Ti);_e[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ei,Ti);_e[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ei,Ti);_e[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pi(e,t,n,r){var s=_e.hasOwnProperty(t)?_e[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jd(t,n,s,r)&&(n=null),r||s===null?Hd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ct=Vd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dr=Symbol.for("react.element"),pn=Symbol.for("react.portal"),hn=Symbol.for("react.fragment"),Ri=Symbol.for("react.strict_mode"),Rl=Symbol.for("react.profiler"),Ya=Symbol.for("react.provider"),qa=Symbol.for("react.context"),Ai=Symbol.for("react.forward_ref"),Al=Symbol.for("react.suspense"),Ll=Symbol.for("react.suspense_list"),Li=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Ga=Symbol.for("react.offscreen"),To=Symbol.iterator;function Wn(e){return e===null||typeof e!="object"?null:(e=To&&e[To]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,nl;function Zn(e){if(nl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nl=t&&t[1]||""}return`
`+nl+e}var rl=!1;function sl(e,t){if(!e||rl)return"";rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{rl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zn(e):""}function Kd(e){switch(e.tag){case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 2:case 15:return e=sl(e.type,!1),e;case 11:return e=sl(e.type.render,!1),e;case 1:return e=sl(e.type,!0),e;default:return""}}function Il(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hn:return"Fragment";case pn:return"Portal";case Rl:return"Profiler";case Ri:return"StrictMode";case Al:return"Suspense";case Ll:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qa:return(e.displayName||"Context")+".Consumer";case Ya:return(e._context.displayName||"Context")+".Provider";case Ai:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Li:return t=e.displayName||null,t!==null?t:Il(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return Il(e(t))}catch{}}return null}function Yd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Il(t);case 8:return t===Ri?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xa(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qd(e){var t=Xa(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mr(e){e._valueTracker||(e._valueTracker=qd(e))}function Za(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xa(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ol(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Po(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ec(e,t){t=t.checked,t!=null&&Pi(e,"checked",t,!1)}function $l(e,t){ec(e,t);var n=Wt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Dl(e,t.type,Wt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ro(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Dl(e,t,n){(t!=="number"||ds(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var er=Array.isArray;function Cn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ml(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ao(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(er(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wt(n)}}function tc(e,t){var n=Wt(t.value),r=Wt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fr,rc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gd=["Webkit","ms","Moz","O"];Object.keys(rr).forEach(function(e){Gd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rr[t]=rr[e]})});function sc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rr.hasOwnProperty(e)&&rr[e]?(""+t).trim():t+"px"}function lc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Xd=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zl(e,t){if(t){if(Xd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Ul(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bl=null;function Ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bl=null,_n=null,En=null;function Io(e){if(e=Lr(e)){if(typeof Bl!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Us(t),Bl(e.stateNode,e.type,t))}}function ic(e){_n?En?En.push(e):En=[e]:_n=e}function oc(){if(_n){var e=_n,t=En;if(En=_n=null,Io(e),t)for(e=0;e<t.length;e++)Io(t[e])}}function ac(e,t){return e(t)}function cc(){}var ll=!1;function uc(e,t,n){if(ll)return e(t,n);ll=!0;try{return ac(e,t,n)}finally{ll=!1,(_n!==null||En!==null)&&(cc(),oc())}}function hr(e,t){var n=e.stateNode;if(n===null)return null;var r=Us(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Vl=!1;if(wt)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{Vl=!1}function Zd(e,t,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(y){this.onError(y)}}var sr=!1,fs=null,ps=!1,Wl=null,ef={onError:function(e){sr=!0,fs=e}};function tf(e,t,n,r,s,i,o,a,c){sr=!1,fs=null,Zd.apply(ef,arguments)}function nf(e,t,n,r,s,i,o,a,c){if(tf.apply(this,arguments),sr){if(sr){var d=fs;sr=!1,fs=null}else throw Error(R(198));ps||(ps=!0,Wl=d)}}function un(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Oo(e){if(un(e)!==e)throw Error(R(188))}function rf(e){var t=e.alternate;if(!t){if(t=un(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Oo(s),e;if(i===r)return Oo(s),t;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function fc(e){return e=rf(e),e!==null?pc(e):null}function pc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pc(e);if(t!==null)return t;e=e.sibling}return null}var hc=Qe.unstable_scheduleCallback,$o=Qe.unstable_cancelCallback,sf=Qe.unstable_shouldYield,lf=Qe.unstable_requestPaint,me=Qe.unstable_now,of=Qe.unstable_getCurrentPriorityLevel,Oi=Qe.unstable_ImmediatePriority,mc=Qe.unstable_UserBlockingPriority,hs=Qe.unstable_NormalPriority,af=Qe.unstable_LowPriority,vc=Qe.unstable_IdlePriority,Ds=null,ft=null;function cf(e){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Ds,e,void 0,(e.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:ff,uf=Math.log,df=Math.LN2;function ff(e){return e>>>=0,e===0?32:31-(uf(e)/df|0)|0}var zr=64,Ur=4194304;function tr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ms(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=tr(a):(i&=o,i!==0&&(r=tr(i)))}else o=n&~s,o!==0?r=tr(o):i!==0&&(r=tr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-it(t),s=1<<n,r|=e[n],t&=~s;return r}function pf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-it(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=pf(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Hl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gc(){var e=zr;return zr<<=1,!(zr&4194240)&&(zr=64),e}function il(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-it(t),e[t]=n}function mf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function $i(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var te=0;function yc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xc,Di,jc,wc,Nc,Ql=!1,br=[],Dt=null,Mt=null,Ft=null,mr=new Map,vr=new Map,Lt=[],vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Do(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":mr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vr.delete(t.pointerId)}}function Qn(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Lr(t),t!==null&&Di(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function gf(e,t,n,r,s){switch(t){case"focusin":return Dt=Qn(Dt,e,t,n,r,s),!0;case"dragenter":return Mt=Qn(Mt,e,t,n,r,s),!0;case"mouseover":return Ft=Qn(Ft,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return mr.set(i,Qn(mr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,vr.set(i,Qn(vr.get(i)||null,e,t,n,r,s)),!0}return!1}function kc(e){var t=Xt(e.target);if(t!==null){var n=un(t);if(n!==null){if(t=n.tag,t===13){if(t=dc(n),t!==null){e.blockedOn=t,Nc(e.priority,function(){jc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bl=r,n.target.dispatchEvent(r),bl=null}else return t=Lr(n),t!==null&&Di(t),e.blockedOn=n,!1;t.shift()}return!0}function Mo(e,t,n){ts(e)&&n.delete(t)}function yf(){Ql=!1,Dt!==null&&ts(Dt)&&(Dt=null),Mt!==null&&ts(Mt)&&(Mt=null),Ft!==null&&ts(Ft)&&(Ft=null),mr.forEach(Mo),vr.forEach(Mo)}function Jn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ql||(Ql=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,yf)))}function gr(e){function t(s){return Jn(s,e)}if(0<br.length){Jn(br[0],e);for(var n=1;n<br.length;n++){var r=br[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dt!==null&&Jn(Dt,e),Mt!==null&&Jn(Mt,e),Ft!==null&&Jn(Ft,e),mr.forEach(t),vr.forEach(t),n=0;n<Lt.length;n++)r=Lt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&(n=Lt[0],n.blockedOn===null);)kc(n),n.blockedOn===null&&Lt.shift()}var Tn=Ct.ReactCurrentBatchConfig,vs=!0;function xf(e,t,n,r){var s=te,i=Tn.transition;Tn.transition=null;try{te=1,Mi(e,t,n,r)}finally{te=s,Tn.transition=i}}function jf(e,t,n,r){var s=te,i=Tn.transition;Tn.transition=null;try{te=4,Mi(e,t,n,r)}finally{te=s,Tn.transition=i}}function Mi(e,t,n,r){if(vs){var s=Jl(e,t,n,r);if(s===null)vl(e,t,r,gs,n),Do(e,r);else if(gf(s,e,t,n,r))r.stopPropagation();else if(Do(e,r),t&4&&-1<vf.indexOf(e)){for(;s!==null;){var i=Lr(s);if(i!==null&&xc(i),i=Jl(e,t,n,r),i===null&&vl(e,t,r,gs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else vl(e,t,r,null,n)}}var gs=null;function Jl(e,t,n,r){if(gs=null,e=Ii(r),e=Xt(e),e!==null)if(t=un(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gs=e,null}function Sc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(of()){case Oi:return 1;case mc:return 4;case hs:case af:return 16;case vc:return 536870912;default:return 16}default:return 16}}var Ot=null,Fi=null,ns=null;function Cc(){if(ns)return ns;var e,t=Fi,n=t.length,r,s="value"in Ot?Ot.value:Ot.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ns=s.slice(e,1<r?1-r:void 0)}function rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Br(){return!0}function Fo(){return!1}function Ke(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Br:Fo,this.isPropagationStopped=Fo,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=Ke(zn),Ar=de({},zn,{view:0,detail:0}),wf=Ke(Ar),ol,al,Kn,Ms=de({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(ol=e.screenX-Kn.screenX,al=e.screenY-Kn.screenY):al=ol=0,Kn=e),ol)},movementY:function(e){return"movementY"in e?e.movementY:al}}),zo=Ke(Ms),Nf=de({},Ms,{dataTransfer:0}),kf=Ke(Nf),Sf=de({},Ar,{relatedTarget:0}),cl=Ke(Sf),Cf=de({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),_f=Ke(Cf),Ef=de({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tf=Ke(Ef),Pf=de({},zn,{data:0}),Uo=Ke(Pf),Rf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function If(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lf[e])?!!t[e]:!1}function Ui(){return If}var Of=de({},Ar,{key:function(e){if(e.key){var t=Rf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Af[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(e){return e.type==="keypress"?rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$f=Ke(Of),Df=de({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=Ke(Df),Mf=de({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),Ff=Ke(Mf),zf=de({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uf=Ke(zf),bf=de({},Ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bf=Ke(bf),Vf=[9,13,27,32],bi=wt&&"CompositionEvent"in window,lr=null;wt&&"documentMode"in document&&(lr=document.documentMode);var Wf=wt&&"TextEvent"in window&&!lr,_c=wt&&(!bi||lr&&8<lr&&11>=lr),Bo=" ",Vo=!1;function Ec(e,t){switch(e){case"keyup":return Vf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mn=!1;function Hf(e,t){switch(e){case"compositionend":return Tc(t);case"keypress":return t.which!==32?null:(Vo=!0,Bo);case"textInput":return e=t.data,e===Bo&&Vo?null:e;default:return null}}function Qf(e,t){if(mn)return e==="compositionend"||!bi&&Ec(e,t)?(e=Cc(),ns=Fi=Ot=null,mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _c&&t.locale!=="ko"?null:t.data;default:return null}}var Jf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jf[e.type]:t==="textarea"}function Pc(e,t,n,r){ic(r),t=ys(t,"onChange"),0<t.length&&(n=new zi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ir=null,yr=null;function Kf(e){Uc(e,0)}function Fs(e){var t=yn(e);if(Za(t))return e}function Yf(e,t){if(e==="change")return t}var Rc=!1;if(wt){var ul;if(wt){var dl="oninput"in document;if(!dl){var Ho=document.createElement("div");Ho.setAttribute("oninput","return;"),dl=typeof Ho.oninput=="function"}ul=dl}else ul=!1;Rc=ul&&(!document.documentMode||9<document.documentMode)}function Qo(){ir&&(ir.detachEvent("onpropertychange",Ac),yr=ir=null)}function Ac(e){if(e.propertyName==="value"&&Fs(yr)){var t=[];Pc(t,yr,e,Ii(e)),uc(Kf,t)}}function qf(e,t,n){e==="focusin"?(Qo(),ir=t,yr=n,ir.attachEvent("onpropertychange",Ac)):e==="focusout"&&Qo()}function Gf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fs(yr)}function Xf(e,t){if(e==="click")return Fs(t)}function Zf(e,t){if(e==="input"||e==="change")return Fs(t)}function ep(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:ep;function xr(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Pl.call(t,s)||!at(e[s],t[s]))return!1}return!0}function Jo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ko(e,t){var n=Jo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jo(n)}}function Lc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ic(){for(var e=window,t=ds();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ds(e.document)}return t}function Bi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tp(e){var t=Ic(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lc(n.ownerDocument.documentElement,n)){if(r!==null&&Bi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ko(n,i);var o=Ko(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var np=wt&&"documentMode"in document&&11>=document.documentMode,vn=null,Kl=null,or=null,Yl=!1;function Yo(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yl||vn==null||vn!==ds(r)||(r=vn,"selectionStart"in r&&Bi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),or&&xr(or,r)||(or=r,r=ys(Kl,"onSelect"),0<r.length&&(t=new zi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vn)))}function Vr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gn={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionend:Vr("Transition","TransitionEnd")},fl={},Oc={};wt&&(Oc=document.createElement("div").style,"AnimationEvent"in window||(delete gn.animationend.animation,delete gn.animationiteration.animation,delete gn.animationstart.animation),"TransitionEvent"in window||delete gn.transitionend.transition);function zs(e){if(fl[e])return fl[e];if(!gn[e])return e;var t=gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Oc)return fl[e]=t[n];return e}var $c=zs("animationend"),Dc=zs("animationiteration"),Mc=zs("animationstart"),Fc=zs("transitionend"),zc=new Map,qo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){zc.set(e,t),cn(t,[e])}for(var pl=0;pl<qo.length;pl++){var hl=qo[pl],rp=hl.toLowerCase(),sp=hl[0].toUpperCase()+hl.slice(1);Qt(rp,"on"+sp)}Qt($c,"onAnimationEnd");Qt(Dc,"onAnimationIteration");Qt(Mc,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(Fc,"onTransitionEnd");An("onMouseEnter",["mouseout","mouseover"]);An("onMouseLeave",["mouseout","mouseover"]);An("onPointerEnter",["pointerout","pointerover"]);An("onPointerLeave",["pointerout","pointerover"]);cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lp=new Set("cancel close invalid load scroll toggle".split(" ").concat(nr));function Go(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nf(r,t,void 0,e),e.currentTarget=null}function Uc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Go(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Go(s,a,d),i=c}}}if(ps)throw e=Wl,ps=!1,Wl=null,e}function le(e,t){var n=t[ei];n===void 0&&(n=t[ei]=new Set);var r=e+"__bubble";n.has(r)||(bc(t,e,2,!1),n.add(r))}function ml(e,t,n){var r=0;t&&(r|=4),bc(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Wr]){e[Wr]=!0,Ka.forEach(function(n){n!=="selectionchange"&&(lp.has(n)||ml(n,!1,e),ml(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wr]||(t[Wr]=!0,ml("selectionchange",!1,t))}}function bc(e,t,n,r){switch(Sc(t)){case 1:var s=xf;break;case 4:s=jf;break;default:s=Mi}n=s.bind(null,t,n,e),s=void 0,!Vl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function vl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Xt(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}uc(function(){var d=i,y=Ii(n),m=[];e:{var h=zc.get(e);if(h!==void 0){var j=zi,x=e;switch(e){case"keypress":if(rs(n)===0)break e;case"keydown":case"keyup":j=$f;break;case"focusin":x="focus",j=cl;break;case"focusout":x="blur",j=cl;break;case"beforeblur":case"afterblur":j=cl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Ff;break;case $c:case Dc:case Mc:j=_f;break;case Fc:j=Uf;break;case"scroll":j=wf;break;case"wheel":j=Bf;break;case"copy":case"cut":case"paste":j=Tf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=bo}var w=(t&4)!==0,_=!w&&e==="scroll",f=w?h!==null?h+"Capture":null:h;w=[];for(var u=d,p;u!==null;){p=u;var g=p.stateNode;if(p.tag===5&&g!==null&&(p=g,f!==null&&(g=hr(u,f),g!=null&&w.push(wr(u,g,p)))),_)break;u=u.return}0<w.length&&(h=new j(h,x,null,n,y),m.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",h&&n!==bl&&(x=n.relatedTarget||n.fromElement)&&(Xt(x)||x[Nt]))break e;if((j||h)&&(h=y.window===y?y:(h=y.ownerDocument)?h.defaultView||h.parentWindow:window,j?(x=n.relatedTarget||n.toElement,j=d,x=x?Xt(x):null,x!==null&&(_=un(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(j=null,x=d),j!==x)){if(w=zo,g="onMouseLeave",f="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(w=bo,g="onPointerLeave",f="onPointerEnter",u="pointer"),_=j==null?h:yn(j),p=x==null?h:yn(x),h=new w(g,u+"leave",j,n,y),h.target=_,h.relatedTarget=p,g=null,Xt(y)===d&&(w=new w(f,u+"enter",x,n,y),w.target=p,w.relatedTarget=_,g=w),_=g,j&&x)t:{for(w=j,f=x,u=0,p=w;p;p=fn(p))u++;for(p=0,g=f;g;g=fn(g))p++;for(;0<u-p;)w=fn(w),u--;for(;0<p-u;)f=fn(f),p--;for(;u--;){if(w===f||f!==null&&w===f.alternate)break t;w=fn(w),f=fn(f)}w=null}else w=null;j!==null&&Xo(m,h,j,w,!1),x!==null&&_!==null&&Xo(m,_,x,w,!0)}}e:{if(h=d?yn(d):window,j=h.nodeName&&h.nodeName.toLowerCase(),j==="select"||j==="input"&&h.type==="file")var N=Yf;else if(Wo(h))if(Rc)N=Zf;else{N=Gf;var k=qf}else(j=h.nodeName)&&j.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Xf);if(N&&(N=N(e,d))){Pc(m,N,n,y);break e}k&&k(e,h,d),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Dl(h,"number",h.value)}switch(k=d?yn(d):window,e){case"focusin":(Wo(k)||k.contentEditable==="true")&&(vn=k,Kl=d,or=null);break;case"focusout":or=Kl=vn=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,Yo(m,n,y);break;case"selectionchange":if(np)break;case"keydown":case"keyup":Yo(m,n,y)}var C;if(bi)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else mn?Ec(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(_c&&n.locale!=="ko"&&(mn||S!=="onCompositionStart"?S==="onCompositionEnd"&&mn&&(C=Cc()):(Ot=y,Fi="value"in Ot?Ot.value:Ot.textContent,mn=!0)),k=ys(d,S),0<k.length&&(S=new Uo(S,e,null,n,y),m.push({event:S,listeners:k}),C?S.data=C:(C=Tc(n),C!==null&&(S.data=C)))),(C=Wf?Hf(e,n):Qf(e,n))&&(d=ys(d,"onBeforeInput"),0<d.length&&(y=new Uo("onBeforeInput","beforeinput",null,n,y),m.push({event:y,listeners:d}),y.data=C))}Uc(m,t)})}function wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ys(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hr(e,n),i!=null&&r.unshift(wr(e,i,s)),i=hr(e,t),i!=null&&r.push(wr(e,i,s))),e=e.return}return r}function fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xo(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=hr(n,i),c!=null&&o.unshift(wr(n,c,a))):s||(c=hr(n,i),c!=null&&o.push(wr(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ip=/\r\n?/g,op=/\u0000|\uFFFD/g;function Zo(e){return(typeof e=="string"?e:""+e).replace(ip,`
`).replace(op,"")}function Hr(e,t,n){if(t=Zo(t),Zo(e)!==t&&n)throw Error(R(425))}function xs(){}var ql=null,Gl=null;function Xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zl=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,ea=typeof Promise=="function"?Promise:void 0,cp=typeof queueMicrotask=="function"?queueMicrotask:typeof ea<"u"?function(e){return ea.resolve(null).then(e).catch(up)}:Zl;function up(e){setTimeout(function(){throw e})}function gl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),gr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gr(t)}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ta(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Un=Math.random().toString(36).slice(2),dt="__reactFiber$"+Un,Nr="__reactProps$"+Un,Nt="__reactContainer$"+Un,ei="__reactEvents$"+Un,dp="__reactListeners$"+Un,fp="__reactHandles$"+Un;function Xt(e){var t=e[dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nt]||n[dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ta(e);e!==null;){if(n=e[dt])return n;e=ta(e)}return t}e=n,n=e.parentNode}return null}function Lr(e){return e=e[dt]||e[Nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Us(e){return e[Nr]||null}var ti=[],xn=-1;function Jt(e){return{current:e}}function ie(e){0>xn||(e.current=ti[xn],ti[xn]=null,xn--)}function se(e,t){xn++,ti[xn]=e.current,e.current=t}var Ht={},Ae=Jt(Ht),Fe=Jt(!1),rn=Ht;function Ln(e,t){var n=e.type.contextTypes;if(!n)return Ht;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function js(){ie(Fe),ie(Ae)}function na(e,t,n){if(Ae.current!==Ht)throw Error(R(168));se(Ae,t),se(Fe,n)}function Bc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,Yd(e)||"Unknown",s));return de({},n,r)}function ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ht,rn=Ae.current,se(Ae,e),se(Fe,Fe.current),!0}function ra(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Bc(e,t,rn),r.__reactInternalMemoizedMergedChildContext=e,ie(Fe),ie(Ae),se(Ae,e)):ie(Fe),se(Fe,n)}var gt=null,bs=!1,yl=!1;function Vc(e){gt===null?gt=[e]:gt.push(e)}function pp(e){bs=!0,Vc(e)}function Kt(){if(!yl&&gt!==null){yl=!0;var e=0,t=te;try{var n=gt;for(te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gt=null,bs=!1}catch(s){throw gt!==null&&(gt=gt.slice(e+1)),hc(Oi,Kt),s}finally{te=t,yl=!1}}return null}var jn=[],wn=0,Ns=null,ks=0,Ye=[],qe=0,sn=null,yt=1,xt="";function qt(e,t){jn[wn++]=ks,jn[wn++]=Ns,Ns=e,ks=t}function Wc(e,t,n){Ye[qe++]=yt,Ye[qe++]=xt,Ye[qe++]=sn,sn=e;var r=yt;e=xt;var s=32-it(r)-1;r&=~(1<<s),n+=1;var i=32-it(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,yt=1<<32-it(t)+s|n<<s|r,xt=i+e}else yt=1<<i|n<<s|r,xt=e}function Vi(e){e.return!==null&&(qt(e,1),Wc(e,1,0))}function Wi(e){for(;e===Ns;)Ns=jn[--wn],jn[wn]=null,ks=jn[--wn],jn[wn]=null;for(;e===sn;)sn=Ye[--qe],Ye[qe]=null,xt=Ye[--qe],Ye[qe]=null,yt=Ye[--qe],Ye[qe]=null}var He=null,We=null,oe=!1,lt=null;function Hc(e,t){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,He=e,We=zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,He=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sn!==null?{id:yt,overflow:xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,He=e,We=null,!0):!1;default:return!1}}function ni(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ri(e){if(oe){var t=We;if(t){var n=t;if(!sa(e,t)){if(ni(e))throw Error(R(418));t=zt(n.nextSibling);var r=He;t&&sa(e,t)?Hc(r,n):(e.flags=e.flags&-4097|2,oe=!1,He=e)}}else{if(ni(e))throw Error(R(418));e.flags=e.flags&-4097|2,oe=!1,He=e}}}function la(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;He=e}function Qr(e){if(e!==He)return!1;if(!oe)return la(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xl(e.type,e.memoizedProps)),t&&(t=We)){if(ni(e))throw Qc(),Error(R(418));for(;t;)Hc(e,t),t=zt(t.nextSibling)}if(la(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){We=zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}We=null}}else We=He?zt(e.stateNode.nextSibling):null;return!0}function Qc(){for(var e=We;e;)e=zt(e.nextSibling)}function In(){We=He=null,oe=!1}function Hi(e){lt===null?lt=[e]:lt.push(e)}var hp=Ct.ReactCurrentBatchConfig;function Yn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Jr(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ia(e){var t=e._init;return t(e._payload)}function Jc(e){function t(f,u){if(e){var p=f.deletions;p===null?(f.deletions=[u],f.flags|=16):p.push(u)}}function n(f,u){if(!e)return null;for(;u!==null;)t(f,u),u=u.sibling;return null}function r(f,u){for(f=new Map;u!==null;)u.key!==null?f.set(u.key,u):f.set(u.index,u),u=u.sibling;return f}function s(f,u){return f=Vt(f,u),f.index=0,f.sibling=null,f}function i(f,u,p){return f.index=p,e?(p=f.alternate,p!==null?(p=p.index,p<u?(f.flags|=2,u):p):(f.flags|=2,u)):(f.flags|=1048576,u)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,u,p,g){return u===null||u.tag!==6?(u=Cl(p,f.mode,g),u.return=f,u):(u=s(u,p),u.return=f,u)}function c(f,u,p,g){var N=p.type;return N===hn?y(f,u,p.props.children,g,p.key):u!==null&&(u.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rt&&ia(N)===u.type)?(g=s(u,p.props),g.ref=Yn(f,u,p),g.return=f,g):(g=us(p.type,p.key,p.props,null,f.mode,g),g.ref=Yn(f,u,p),g.return=f,g)}function d(f,u,p,g){return u===null||u.tag!==4||u.stateNode.containerInfo!==p.containerInfo||u.stateNode.implementation!==p.implementation?(u=_l(p,f.mode,g),u.return=f,u):(u=s(u,p.children||[]),u.return=f,u)}function y(f,u,p,g,N){return u===null||u.tag!==7?(u=nn(p,f.mode,g,N),u.return=f,u):(u=s(u,p),u.return=f,u)}function m(f,u,p){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Cl(""+u,f.mode,p),u.return=f,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Dr:return p=us(u.type,u.key,u.props,null,f.mode,p),p.ref=Yn(f,null,u),p.return=f,p;case pn:return u=_l(u,f.mode,p),u.return=f,u;case Rt:var g=u._init;return m(f,g(u._payload),p)}if(er(u)||Wn(u))return u=nn(u,f.mode,p,null),u.return=f,u;Jr(f,u)}return null}function h(f,u,p,g){var N=u!==null?u.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:a(f,u,""+p,g);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Dr:return p.key===N?c(f,u,p,g):null;case pn:return p.key===N?d(f,u,p,g):null;case Rt:return N=p._init,h(f,u,N(p._payload),g)}if(er(p)||Wn(p))return N!==null?null:y(f,u,p,g,null);Jr(f,p)}return null}function j(f,u,p,g,N){if(typeof g=="string"&&g!==""||typeof g=="number")return f=f.get(p)||null,a(u,f,""+g,N);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Dr:return f=f.get(g.key===null?p:g.key)||null,c(u,f,g,N);case pn:return f=f.get(g.key===null?p:g.key)||null,d(u,f,g,N);case Rt:var k=g._init;return j(f,u,p,k(g._payload),N)}if(er(g)||Wn(g))return f=f.get(p)||null,y(u,f,g,N,null);Jr(u,g)}return null}function x(f,u,p,g){for(var N=null,k=null,C=u,S=u=0,T=null;C!==null&&S<p.length;S++){C.index>S?(T=C,C=null):T=C.sibling;var E=h(f,C,p[S],g);if(E===null){C===null&&(C=T);break}e&&C&&E.alternate===null&&t(f,C),u=i(E,u,S),k===null?N=E:k.sibling=E,k=E,C=T}if(S===p.length)return n(f,C),oe&&qt(f,S),N;if(C===null){for(;S<p.length;S++)C=m(f,p[S],g),C!==null&&(u=i(C,u,S),k===null?N=C:k.sibling=C,k=C);return oe&&qt(f,S),N}for(C=r(f,C);S<p.length;S++)T=j(C,f,S,p[S],g),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?S:T.key),u=i(T,u,S),k===null?N=T:k.sibling=T,k=T);return e&&C.forEach(function(I){return t(f,I)}),oe&&qt(f,S),N}function w(f,u,p,g){var N=Wn(p);if(typeof N!="function")throw Error(R(150));if(p=N.call(p),p==null)throw Error(R(151));for(var k=N=null,C=u,S=u=0,T=null,E=p.next();C!==null&&!E.done;S++,E=p.next()){C.index>S?(T=C,C=null):T=C.sibling;var I=h(f,C,E.value,g);if(I===null){C===null&&(C=T);break}e&&C&&I.alternate===null&&t(f,C),u=i(I,u,S),k===null?N=I:k.sibling=I,k=I,C=T}if(E.done)return n(f,C),oe&&qt(f,S),N;if(C===null){for(;!E.done;S++,E=p.next())E=m(f,E.value,g),E!==null&&(u=i(E,u,S),k===null?N=E:k.sibling=E,k=E);return oe&&qt(f,S),N}for(C=r(f,C);!E.done;S++,E=p.next())E=j(C,f,S,E.value,g),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?S:E.key),u=i(E,u,S),k===null?N=E:k.sibling=E,k=E);return e&&C.forEach(function(Y){return t(f,Y)}),oe&&qt(f,S),N}function _(f,u,p,g){if(typeof p=="object"&&p!==null&&p.type===hn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Dr:e:{for(var N=p.key,k=u;k!==null;){if(k.key===N){if(N=p.type,N===hn){if(k.tag===7){n(f,k.sibling),u=s(k,p.props.children),u.return=f,f=u;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rt&&ia(N)===k.type){n(f,k.sibling),u=s(k,p.props),u.ref=Yn(f,k,p),u.return=f,f=u;break e}n(f,k);break}else t(f,k);k=k.sibling}p.type===hn?(u=nn(p.props.children,f.mode,g,p.key),u.return=f,f=u):(g=us(p.type,p.key,p.props,null,f.mode,g),g.ref=Yn(f,u,p),g.return=f,f=g)}return o(f);case pn:e:{for(k=p.key;u!==null;){if(u.key===k)if(u.tag===4&&u.stateNode.containerInfo===p.containerInfo&&u.stateNode.implementation===p.implementation){n(f,u.sibling),u=s(u,p.children||[]),u.return=f,f=u;break e}else{n(f,u);break}else t(f,u);u=u.sibling}u=_l(p,f.mode,g),u.return=f,f=u}return o(f);case Rt:return k=p._init,_(f,u,k(p._payload),g)}if(er(p))return x(f,u,p,g);if(Wn(p))return w(f,u,p,g);Jr(f,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,u!==null&&u.tag===6?(n(f,u.sibling),u=s(u,p),u.return=f,f=u):(n(f,u),u=Cl(p,f.mode,g),u.return=f,f=u),o(f)):n(f,u)}return _}var On=Jc(!0),Kc=Jc(!1),Ss=Jt(null),Cs=null,Nn=null,Qi=null;function Ji(){Qi=Nn=Cs=null}function Ki(e){var t=Ss.current;ie(Ss),e._currentValue=t}function si(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pn(e,t){Cs=e,Qi=Nn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function Ze(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},Nn===null){if(Cs===null)throw Error(R(308));Nn=e,Cs.dependencies={lanes:0,firstContext:e}}else Nn=Nn.next=e;return t}var Zt=null;function Yi(e){Zt===null?Zt=[e]:Zt.push(e)}function Yc(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Yi(t)):(n.next=s.next,s.next=n),t.interleaved=n,kt(e,r)}function kt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var At=!1;function qi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ut(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,kt(e,n)}return s=r.interleaved,s===null?(t.next=t,Yi(r)):(t.next=s.next,s.next=t),r.interleaved=t,kt(e,n)}function ss(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$i(e,n)}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _s(e,t,n,r){var s=e.updateQueue;At=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var y=e.alternate;y!==null&&(y=y.updateQueue,a=y.lastBaseUpdate,a!==o&&(a===null?y.firstBaseUpdate=d:a.next=d,y.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,y=d=c=null,a=i;do{var h=a.lane,j=a.eventTime;if((r&h)===h){y!==null&&(y=y.next={eventTime:j,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,w=a;switch(h=t,j=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){m=x.call(j,m,h);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,h=typeof x=="function"?x.call(j,m,h):x,h==null)break e;m=de({},m,h);break e;case 2:At=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else j={eventTime:j,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},y===null?(d=y=j,c=m):y=y.next=j,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(y===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=y,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);on|=o,e.lanes=o,e.memoizedState=m}}function aa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var Ir={},pt=Jt(Ir),kr=Jt(Ir),Sr=Jt(Ir);function en(e){if(e===Ir)throw Error(R(174));return e}function Gi(e,t){switch(se(Sr,t),se(kr,e),se(pt,Ir),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fl(t,e)}ie(pt),se(pt,t)}function $n(){ie(pt),ie(kr),ie(Sr)}function Gc(e){en(Sr.current);var t=en(pt.current),n=Fl(t,e.type);t!==n&&(se(kr,e),se(pt,n))}function Xi(e){kr.current===e&&(ie(pt),ie(kr))}var ce=Jt(0);function Es(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xl=[];function Zi(){for(var e=0;e<xl.length;e++)xl[e]._workInProgressVersionPrimary=null;xl.length=0}var ls=Ct.ReactCurrentDispatcher,jl=Ct.ReactCurrentBatchConfig,ln=0,ue=null,xe=null,we=null,Ts=!1,ar=!1,Cr=0,mp=0;function Te(){throw Error(R(321))}function eo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!at(e[n],t[n]))return!1;return!0}function to(e,t,n,r,s,i){if(ln=i,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ls.current=e===null||e.memoizedState===null?xp:jp,e=n(r,s),ar){i=0;do{if(ar=!1,Cr=0,25<=i)throw Error(R(301));i+=1,we=xe=null,t.updateQueue=null,ls.current=wp,e=n(r,s)}while(ar)}if(ls.current=Ps,t=xe!==null&&xe.next!==null,ln=0,we=xe=ue=null,Ts=!1,t)throw Error(R(300));return e}function no(){var e=Cr!==0;return Cr=0,e}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?ue.memoizedState=we=e:we=we.next=e,we}function et(){if(xe===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=we===null?ue.memoizedState:we.next;if(t!==null)we=t,xe=e;else{if(e===null)throw Error(R(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},we===null?ue.memoizedState=we=e:we=we.next=e}return we}function _r(e,t){return typeof t=="function"?t(e):t}function wl(e){var t=et(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=xe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var y=d.lane;if((ln&y)===y)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:y,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=m,o=r):c=c.next=m,ue.lanes|=y,on|=y}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,at(r,t.memoizedState)||(Me=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ue.lanes|=i,on|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nl(e){var t=et(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);at(i,t.memoizedState)||(Me=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Xc(){}function Zc(e,t){var n=ue,r=et(),s=t(),i=!at(r.memoizedState,s);if(i&&(r.memoizedState=s,Me=!0),r=r.queue,ro(nu.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Er(9,tu.bind(null,n,r,s,t),void 0,null),Ne===null)throw Error(R(349));ln&30||eu(n,t,s)}return s}function eu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tu(e,t,n,r){t.value=n,t.getSnapshot=r,ru(t)&&su(e)}function nu(e,t,n){return n(function(){ru(t)&&su(e)})}function ru(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!at(e,n)}catch{return!0}}function su(e){var t=kt(e,1);t!==null&&ot(t,e,1,-1)}function ca(e){var t=ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:e},t.queue=e,e=e.dispatch=yp.bind(null,ue,e),[t.memoizedState,e]}function Er(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lu(){return et().memoizedState}function is(e,t,n,r){var s=ut();ue.flags|=e,s.memoizedState=Er(1|t,n,void 0,r===void 0?null:r)}function Bs(e,t,n,r){var s=et();r=r===void 0?null:r;var i=void 0;if(xe!==null){var o=xe.memoizedState;if(i=o.destroy,r!==null&&eo(r,o.deps)){s.memoizedState=Er(t,n,i,r);return}}ue.flags|=e,s.memoizedState=Er(1|t,n,i,r)}function ua(e,t){return is(8390656,8,e,t)}function ro(e,t){return Bs(2048,8,e,t)}function iu(e,t){return Bs(4,2,e,t)}function ou(e,t){return Bs(4,4,e,t)}function au(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cu(e,t,n){return n=n!=null?n.concat([e]):null,Bs(4,4,au.bind(null,t,e),n)}function so(){}function uu(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function du(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fu(e,t,n){return ln&21?(at(n,t)||(n=gc(),ue.lanes|=n,on|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=n)}function vp(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var r=jl.transition;jl.transition={};try{e(!1),t()}finally{te=n,jl.transition=r}}function pu(){return et().memoizedState}function gp(e,t,n){var r=Bt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hu(e))mu(t,n);else if(n=Yc(e,t,n,r),n!==null){var s=Ie();ot(n,e,r,s),vu(n,t,r)}}function yp(e,t,n){var r=Bt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hu(e))mu(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,at(a,o)){var c=t.interleaved;c===null?(s.next=s,Yi(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Yc(e,t,s,r),n!==null&&(s=Ie(),ot(n,e,r,s),vu(n,t,r))}}function hu(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function mu(e,t){ar=Ts=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vu(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$i(e,n)}}var Ps={readContext:Ze,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},xp={readContext:Ze,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:ua,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,is(4194308,4,au.bind(null,t,e),n)},useLayoutEffect:function(e,t){return is(4194308,4,e,t)},useInsertionEffect:function(e,t){return is(4,2,e,t)},useMemo:function(e,t){var n=ut();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ut();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gp.bind(null,ue,e),[r.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:ca,useDebugValue:so,useDeferredValue:function(e){return ut().memoizedState=e},useTransition:function(){var e=ca(!1),t=e[0];return e=vp.bind(null,e[1]),ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ue,s=ut();if(oe){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Ne===null)throw Error(R(349));ln&30||eu(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ua(nu.bind(null,r,i,e),[e]),r.flags|=2048,Er(9,tu.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ut(),t=Ne.identifierPrefix;if(oe){var n=xt,r=yt;n=(r&~(1<<32-it(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Cr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jp={readContext:Ze,useCallback:uu,useContext:Ze,useEffect:ro,useImperativeHandle:cu,useInsertionEffect:iu,useLayoutEffect:ou,useMemo:du,useReducer:wl,useRef:lu,useState:function(){return wl(_r)},useDebugValue:so,useDeferredValue:function(e){var t=et();return fu(t,xe.memoizedState,e)},useTransition:function(){var e=wl(_r)[0],t=et().memoizedState;return[e,t]},useMutableSource:Xc,useSyncExternalStore:Zc,useId:pu,unstable_isNewReconciler:!1},wp={readContext:Ze,useCallback:uu,useContext:Ze,useEffect:ro,useImperativeHandle:cu,useInsertionEffect:iu,useLayoutEffect:ou,useMemo:du,useReducer:Nl,useRef:lu,useState:function(){return Nl(_r)},useDebugValue:so,useDeferredValue:function(e){var t=et();return xe===null?t.memoizedState=e:fu(t,xe.memoizedState,e)},useTransition:function(){var e=Nl(_r)[0],t=et().memoizedState;return[e,t]},useMutableSource:Xc,useSyncExternalStore:Zc,useId:pu,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function li(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vs={isMounted:function(e){return(e=e._reactInternals)?un(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=Bt(e),i=jt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ut(e,i,s),t!==null&&(ot(t,e,s,r),ss(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=Bt(e),i=jt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ut(e,i,s),t!==null&&(ot(t,e,s,r),ss(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=Bt(e),s=jt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ut(e,s,r),t!==null&&(ot(t,e,r,n),ss(t,e,r))}};function da(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!xr(n,r)||!xr(s,i):!0}function gu(e,t,n){var r=!1,s=Ht,i=t.contextType;return typeof i=="object"&&i!==null?i=Ze(i):(s=ze(t)?rn:Ae.current,r=t.contextTypes,i=(r=r!=null)?Ln(e,s):Ht),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function fa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function ii(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},qi(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ze(i):(i=ze(t)?rn:Ae.current,s.context=Ln(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(li(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vs.enqueueReplaceState(s,s.state,null),_s(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Dn(e,t){try{var n="",r=t;do n+=Kd(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function kl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Np=typeof WeakMap=="function"?WeakMap:Map;function yu(e,t,n){n=jt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){As||(As=!0,gi=r),oi(e,t)},n}function xu(e,t,n){n=jt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){oi(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){oi(e,t),typeof r!="function"&&(bt===null?bt=new Set([this]):bt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function pa(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Np;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Dp.bind(null,e,t,n),t.then(e,e))}function ha(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ma(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jt(-1,1),t.tag=2,Ut(n,t,1))),n.lanes|=1),e)}var kp=Ct.ReactCurrentOwner,Me=!1;function Le(e,t,n,r){t.child=e===null?Kc(t,null,n,r):On(t,e.child,n,r)}function va(e,t,n,r,s){n=n.render;var i=t.ref;return Pn(t,s),r=to(e,t,n,r,i,s),n=no(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,St(e,t,s)):(oe&&n&&Vi(t),t.flags|=1,Le(e,t,r,s),t.child)}function ga(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!po(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ju(e,t,i,r,s)):(e=us(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xr,n(o,r)&&e.ref===t.ref)return St(e,t,s)}return t.flags|=1,e=Vt(i,r),e.ref=t.ref,e.return=t,t.child=e}function ju(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(xr(i,r)&&e.ref===t.ref)if(Me=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,St(e,t,s)}return ai(e,t,n,r,s)}function wu(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Sn,Ve),Ve|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Sn,Ve),Ve|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,se(Sn,Ve),Ve|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,se(Sn,Ve),Ve|=r;return Le(e,t,s,n),t.child}function Nu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ai(e,t,n,r,s){var i=ze(n)?rn:Ae.current;return i=Ln(t,i),Pn(t,s),n=to(e,t,n,r,i,s),r=no(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,St(e,t,s)):(oe&&r&&Vi(t),t.flags|=1,Le(e,t,n,s),t.child)}function ya(e,t,n,r,s){if(ze(n)){var i=!0;ws(t)}else i=!1;if(Pn(t,s),t.stateNode===null)os(e,t),gu(t,n,r),ii(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ze(d):(d=ze(n)?rn:Ae.current,d=Ln(t,d));var y=n.getDerivedStateFromProps,m=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&fa(t,o,r,d),At=!1;var h=t.memoizedState;o.state=h,_s(t,r,o,s),c=t.memoizedState,a!==r||h!==c||Fe.current||At?(typeof y=="function"&&(li(t,n,y,r),c=t.memoizedState),(a=At||da(t,n,a,r,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,qc(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:rt(t.type,a),o.props=d,m=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ze(c):(c=ze(n)?rn:Ae.current,c=Ln(t,c));var j=n.getDerivedStateFromProps;(y=typeof j=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||h!==c)&&fa(t,o,r,c),At=!1,h=t.memoizedState,o.state=h,_s(t,r,o,s);var x=t.memoizedState;a!==m||h!==x||Fe.current||At?(typeof j=="function"&&(li(t,n,j,r),x=t.memoizedState),(d=At||da(t,n,d,r,h,x,c)||!1)?(y||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ci(e,t,n,r,i,s)}function ci(e,t,n,r,s,i){Nu(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&ra(t,n,!1),St(e,t,i);r=t.stateNode,kp.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=On(t,e.child,null,i),t.child=On(t,null,a,i)):Le(e,t,a,i),t.memoizedState=r.state,s&&ra(t,n,!0),t.child}function ku(e){var t=e.stateNode;t.pendingContext?na(e,t.pendingContext,t.pendingContext!==t.context):t.context&&na(e,t.context,!1),Gi(e,t.containerInfo)}function xa(e,t,n,r,s){return In(),Hi(s),t.flags|=256,Le(e,t,n,r),t.child}var ui={dehydrated:null,treeContext:null,retryLane:0};function di(e){return{baseLanes:e,cachePool:null,transitions:null}}function Su(e,t,n){var r=t.pendingProps,s=ce.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),se(ce,s&1),e===null)return ri(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Qs(o,r,0,null),e=nn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=di(n),t.memoizedState=ui,e):lo(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Sp(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Vt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Vt(a,i):(i=nn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?di(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ui,r}return i=e.child,e=i.sibling,r=Vt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function lo(e,t){return t=Qs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Kr(e,t,n,r){return r!==null&&Hi(r),On(t,e.child,null,n),e=lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sp(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=kl(Error(R(422))),Kr(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Qs({mode:"visible",children:r.children},s,0,null),i=nn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&On(t,e.child,null,o),t.child.memoizedState=di(o),t.memoizedState=ui,i);if(!(t.mode&1))return Kr(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(R(419)),r=kl(i,r,void 0),Kr(e,t,o,r)}if(a=(o&e.childLanes)!==0,Me||a){if(r=Ne,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kt(e,s),ot(r,e,s,-1))}return fo(),r=kl(Error(R(421))),Kr(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Mp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,We=zt(s.nextSibling),He=t,oe=!0,lt=null,e!==null&&(Ye[qe++]=yt,Ye[qe++]=xt,Ye[qe++]=sn,yt=e.id,xt=e.overflow,sn=t),t=lo(t,r.children),t.flags|=4096,t)}function ja(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),si(e.return,t,n)}function Sl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Cu(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Le(e,t,r.children,n),r=ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ja(e,n,t);else if(e.tag===19)ja(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(ce,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Es(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Sl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Es(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Sl(t,!0,n,null,i);break;case"together":Sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function os(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function St(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),on|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Vt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cp(e,t,n){switch(t.tag){case 3:ku(t),In();break;case 5:Gc(t);break;case 1:ze(t.type)&&ws(t);break;case 4:Gi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;se(Ss,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(ce,ce.current&1),t.flags|=128,null):n&t.child.childLanes?Su(e,t,n):(se(ce,ce.current&1),e=St(e,t,n),e!==null?e.sibling:null);se(ce,ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cu(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(ce,ce.current),r)break;return null;case 22:case 23:return t.lanes=0,wu(e,t,n)}return St(e,t,n)}var _u,fi,Eu,Tu;_u=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fi=function(){};Eu=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,en(pt.current);var i=null;switch(n){case"input":s=Ol(e,s),r=Ol(e,r),i=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":s=Ml(e,s),r=Ml(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xs)}zl(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(fr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(fr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&le("scroll",e),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Tu=function(e,t,n,r){n!==r&&(t.flags|=4)};function qn(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _p(e,t,n){var r=t.pendingProps;switch(Wi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return ze(t.type)&&js(),Pe(t),null;case 3:return r=t.stateNode,$n(),ie(Fe),ie(Ae),Zi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lt!==null&&(ji(lt),lt=null))),fi(e,t),Pe(t),null;case 5:Xi(t);var s=en(Sr.current);if(n=t.type,e!==null&&t.stateNode!=null)Eu(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Pe(t),null}if(e=en(pt.current),Qr(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[dt]=t,r[Nr]=i,e=(t.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(s=0;s<nr.length;s++)le(nr[s],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":Po(r,i),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},le("invalid",r);break;case"textarea":Ao(r,i),le("invalid",r)}zl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Hr(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Hr(r.textContent,a,e),s=["children",""+a]):fr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&le("scroll",r)}switch(n){case"input":Mr(r),Ro(r,i,!0);break;case"textarea":Mr(r),Lo(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xs)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[dt]=t,e[Nr]=r,_u(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ul(n,r),n){case"dialog":le("cancel",e),le("close",e),s=r;break;case"iframe":case"object":case"embed":le("load",e),s=r;break;case"video":case"audio":for(s=0;s<nr.length;s++)le(nr[s],e);s=r;break;case"source":le("error",e),s=r;break;case"img":case"image":case"link":le("error",e),le("load",e),s=r;break;case"details":le("toggle",e),s=r;break;case"input":Po(e,r),s=Ol(e,r),le("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),le("invalid",e);break;case"textarea":Ao(e,r),s=Ml(e,r),le("invalid",e);break;default:s=r}zl(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?lc(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rc(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pr(e,c):typeof c=="number"&&pr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&le("scroll",e):c!=null&&Pi(e,i,c,o))}switch(n){case"input":Mr(e),Ro(e,r,!1);break;case"textarea":Mr(e),Lo(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Cn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Cn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)Tu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=en(Sr.current),en(pt.current),Qr(t)){if(r=t.stateNode,n=t.memoizedProps,r[dt]=t,(i=r.nodeValue!==n)&&(e=He,e!==null))switch(e.tag){case 3:Hr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hr(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dt]=t,t.stateNode=r}return Pe(t),null;case 13:if(ie(ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&We!==null&&t.mode&1&&!(t.flags&128))Qc(),In(),t.flags|=98560,i=!1;else if(i=Qr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[dt]=t}else In(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),i=!1}else lt!==null&&(ji(lt),lt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?je===0&&(je=3):fo())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return $n(),fi(e,t),e===null&&jr(t.stateNode.containerInfo),Pe(t),null;case 10:return Ki(t.type._context),Pe(t),null;case 17:return ze(t.type)&&js(),Pe(t),null;case 19:if(ie(ce),i=t.memoizedState,i===null)return Pe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)qn(i,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Es(e),o!==null){for(t.flags|=128,qn(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(ce,ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&me()>Mn&&(t.flags|=128,r=!0,qn(i,!1),t.lanes=4194304)}else{if(!r)if(e=Es(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!oe)return Pe(t),null}else 2*me()-i.renderingStartTime>Mn&&n!==1073741824&&(t.flags|=128,r=!0,qn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=me(),t.sibling=null,n=ce.current,se(ce,r?n&1|2:n&1),t):(Pe(t),null);case 22:case 23:return uo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ve&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Ep(e,t){switch(Wi(t),t.tag){case 1:return ze(t.type)&&js(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $n(),ie(Fe),ie(Ae),Zi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xi(t),null;case 13:if(ie(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ce),null;case 4:return $n(),null;case 10:return Ki(t.type._context),null;case 22:case 23:return uo(),null;case 24:return null;default:return null}}var Yr=!1,Re=!1,Tp=typeof WeakSet=="function"?WeakSet:Set,D=null;function kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(e,t,r)}else n.current=null}function pi(e,t,n){try{n()}catch(r){fe(e,t,r)}}var wa=!1;function Pp(e,t){if(ql=vs,e=Ic(),Bi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,y=0,m=e,h=null;t:for(;;){for(var j;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(j=m.firstChild)!==null;)h=m,m=j;for(;;){if(m===e)break t;if(h===n&&++d===s&&(a=o),h===i&&++y===r&&(c=o),(j=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=j}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gl={focusedElem:e,selectionRange:n},vs=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,_=x.memoizedState,f=t.stateNode,u=f.getSnapshotBeforeUpdate(t.elementType===t.type?w:rt(t.type,w),_);f.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(g){fe(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return x=wa,wa=!1,x}function cr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&pi(t,n,i)}s=s.next}while(s!==r)}}function Ws(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pu(e){var t=e.alternate;t!==null&&(e.alternate=null,Pu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dt],delete t[Nr],delete t[ei],delete t[dp],delete t[fp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ru(e){return e.tag===5||e.tag===3||e.tag===4}function Na(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xs));else if(r!==4&&(e=e.child,e!==null))for(mi(e,t,n),e=e.sibling;e!==null;)mi(e,t,n),e=e.sibling}function vi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vi(e,t,n),e=e.sibling;e!==null;)vi(e,t,n),e=e.sibling}var Se=null,st=!1;function Pt(e,t,n){for(n=n.child;n!==null;)Au(e,t,n),n=n.sibling}function Au(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Ds,n)}catch{}switch(n.tag){case 5:Re||kn(n,t);case 6:var r=Se,s=st;Se=null,Pt(e,t,n),Se=r,st=s,Se!==null&&(st?(e=Se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(st?(e=Se,n=n.stateNode,e.nodeType===8?gl(e.parentNode,n):e.nodeType===1&&gl(e,n),gr(e)):gl(Se,n.stateNode));break;case 4:r=Se,s=st,Se=n.stateNode.containerInfo,st=!0,Pt(e,t,n),Se=r,st=s;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&pi(n,t,o),s=s.next}while(s!==r)}Pt(e,t,n);break;case 1:if(!Re&&(kn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fe(n,t,a)}Pt(e,t,n);break;case 21:Pt(e,t,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,Pt(e,t,n),Re=r):Pt(e,t,n);break;default:Pt(e,t,n)}}function ka(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Tp),t.forEach(function(r){var s=Fp.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Se=a.stateNode,st=!1;break e;case 3:Se=a.stateNode.containerInfo,st=!0;break e;case 4:Se=a.stateNode.containerInfo,st=!0;break e}a=a.return}if(Se===null)throw Error(R(160));Au(i,o,s),Se=null,st=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){fe(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lu(t,e),t=t.sibling}function Lu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nt(t,e),ct(e),r&4){try{cr(3,e,e.return),Ws(3,e)}catch(w){fe(e,e.return,w)}try{cr(5,e,e.return)}catch(w){fe(e,e.return,w)}}break;case 1:nt(t,e),ct(e),r&512&&n!==null&&kn(n,n.return);break;case 5:if(nt(t,e),ct(e),r&512&&n!==null&&kn(n,n.return),e.flags&32){var s=e.stateNode;try{pr(s,"")}catch(w){fe(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ec(s,i),Ul(a,o);var d=Ul(a,i);for(o=0;o<c.length;o+=2){var y=c[o],m=c[o+1];y==="style"?lc(s,m):y==="dangerouslySetInnerHTML"?rc(s,m):y==="children"?pr(s,m):Pi(s,y,m,d)}switch(a){case"input":$l(s,i);break;case"textarea":tc(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var j=i.value;j!=null?Cn(s,!!i.multiple,j,!1):h!==!!i.multiple&&(i.defaultValue!=null?Cn(s,!!i.multiple,i.defaultValue,!0):Cn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Nr]=i}catch(w){fe(e,e.return,w)}}break;case 6:if(nt(t,e),ct(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){fe(e,e.return,w)}}break;case 3:if(nt(t,e),ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gr(t.containerInfo)}catch(w){fe(e,e.return,w)}break;case 4:nt(t,e),ct(e);break;case 13:nt(t,e),ct(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ao=me())),r&4&&ka(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(d=Re)||y,nt(t,e),Re=d):nt(t,e),ct(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!y&&e.mode&1)for(D=e,y=e.child;y!==null;){for(m=D=y;D!==null;){switch(h=D,j=h.child,h.tag){case 0:case 11:case 14:case 15:cr(4,h,h.return);break;case 1:kn(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){fe(r,n,w)}}break;case 5:kn(h,h.return);break;case 22:if(h.memoizedState!==null){Ca(m);continue}}j!==null?(j.return=h,D=j):Ca(m)}y=y.sibling}e:for(y=null,m=e;;){if(m.tag===5){if(y===null){y=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=sc("display",o))}catch(w){fe(e,e.return,w)}}}else if(m.tag===6){if(y===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(w){fe(e,e.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;y===m&&(y=null),m=m.return}y===m&&(y=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:nt(t,e),ct(e),r&4&&ka(e);break;case 21:break;default:nt(t,e),ct(e)}}function ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ru(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pr(s,""),r.flags&=-33);var i=Na(e);vi(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Na(e);mi(e,a,o);break;default:throw Error(R(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rp(e,t,n){D=e,Iu(e)}function Iu(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Yr;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Re;a=Yr;var d=Re;if(Yr=o,(Re=c)&&!d)for(D=s;D!==null;)o=D,c=o.child,o.tag===22&&o.memoizedState!==null?_a(s):c!==null?(c.return=o,D=c):_a(s);for(;i!==null;)D=i,Iu(i),i=i.sibling;D=s,Yr=a,Re=d}Sa(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Sa(e)}}function Sa(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Ws(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:rt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&aa(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}aa(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var y=d.memoizedState;if(y!==null){var m=y.dehydrated;m!==null&&gr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Re||t.flags&512&&hi(t)}catch(h){fe(t,t.return,h)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Ca(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function _a(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ws(4,t)}catch(c){fe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){fe(t,s,c)}}var i=t.return;try{hi(t)}catch(c){fe(t,i,c)}break;case 5:var o=t.return;try{hi(t)}catch(c){fe(t,o,c)}}}catch(c){fe(t,t.return,c)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var Ap=Math.ceil,Rs=Ct.ReactCurrentDispatcher,io=Ct.ReactCurrentOwner,Xe=Ct.ReactCurrentBatchConfig,G=0,Ne=null,ge=null,Ce=0,Ve=0,Sn=Jt(0),je=0,Tr=null,on=0,Hs=0,oo=0,ur=null,De=null,ao=0,Mn=1/0,vt=null,As=!1,gi=null,bt=null,qr=!1,$t=null,Ls=0,dr=0,yi=null,as=-1,cs=0;function Ie(){return G&6?me():as!==-1?as:as=me()}function Bt(e){return e.mode&1?G&2&&Ce!==0?Ce&-Ce:hp.transition!==null?(cs===0&&(cs=gc()),cs):(e=te,e!==0||(e=window.event,e=e===void 0?16:Sc(e.type)),e):1}function ot(e,t,n,r){if(50<dr)throw dr=0,yi=null,Error(R(185));Rr(e,n,r),(!(G&2)||e!==Ne)&&(e===Ne&&(!(G&2)&&(Hs|=n),je===4&&It(e,Ce)),Ue(e,r),n===1&&G===0&&!(t.mode&1)&&(Mn=me()+500,bs&&Kt()))}function Ue(e,t){var n=e.callbackNode;hf(e,t);var r=ms(e,e===Ne?Ce:0);if(r===0)n!==null&&$o(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$o(n),t===1)e.tag===0?pp(Ea.bind(null,e)):Vc(Ea.bind(null,e)),cp(function(){!(G&6)&&Kt()}),n=null;else{switch(yc(r)){case 1:n=Oi;break;case 4:n=mc;break;case 16:n=hs;break;case 536870912:n=vc;break;default:n=hs}n=bu(n,Ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ou(e,t){if(as=-1,cs=0,G&6)throw Error(R(327));var n=e.callbackNode;if(Rn()&&e.callbackNode!==n)return null;var r=ms(e,e===Ne?Ce:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Is(e,r);else{t=r;var s=G;G|=2;var i=Du();(Ne!==e||Ce!==t)&&(vt=null,Mn=me()+500,tn(e,t));do try{Op();break}catch(a){$u(e,a)}while(!0);Ji(),Rs.current=i,G=s,ge!==null?t=0:(Ne=null,Ce=0,t=je)}if(t!==0){if(t===2&&(s=Hl(e),s!==0&&(r=s,t=xi(e,s))),t===1)throw n=Tr,tn(e,0),It(e,r),Ue(e,me()),n;if(t===6)It(e,r);else{if(s=e.current.alternate,!(r&30)&&!Lp(s)&&(t=Is(e,r),t===2&&(i=Hl(e),i!==0&&(r=i,t=xi(e,i))),t===1))throw n=Tr,tn(e,0),It(e,r),Ue(e,me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Gt(e,De,vt);break;case 3:if(It(e,r),(r&130023424)===r&&(t=ao+500-me(),10<t)){if(ms(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zl(Gt.bind(null,e,De,vt),t);break}Gt(e,De,vt);break;case 4:if(It(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ap(r/1960))-r,10<r){e.timeoutHandle=Zl(Gt.bind(null,e,De,vt),r);break}Gt(e,De,vt);break;case 5:Gt(e,De,vt);break;default:throw Error(R(329))}}}return Ue(e,me()),e.callbackNode===n?Ou.bind(null,e):null}function xi(e,t){var n=ur;return e.current.memoizedState.isDehydrated&&(tn(e,t).flags|=256),e=Is(e,t),e!==2&&(t=De,De=n,t!==null&&ji(t)),e}function ji(e){De===null?De=e:De.push.apply(De,e)}function Lp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~oo,t&=~Hs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function Ea(e){if(G&6)throw Error(R(327));Rn();var t=ms(e,0);if(!(t&1))return Ue(e,me()),null;var n=Is(e,t);if(e.tag!==0&&n===2){var r=Hl(e);r!==0&&(t=r,n=xi(e,r))}if(n===1)throw n=Tr,tn(e,0),It(e,t),Ue(e,me()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gt(e,De,vt),Ue(e,me()),null}function co(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(Mn=me()+500,bs&&Kt())}}function an(e){$t!==null&&$t.tag===0&&!(G&6)&&Rn();var t=G;G|=1;var n=Xe.transition,r=te;try{if(Xe.transition=null,te=1,e)return e()}finally{te=r,Xe.transition=n,G=t,!(G&6)&&Kt()}}function uo(){Ve=Sn.current,ie(Sn)}function tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ap(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(Wi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&js();break;case 3:$n(),ie(Fe),ie(Ae),Zi();break;case 5:Xi(r);break;case 4:$n();break;case 13:ie(ce);break;case 19:ie(ce);break;case 10:Ki(r.type._context);break;case 22:case 23:uo()}n=n.return}if(Ne=e,ge=e=Vt(e.current,null),Ce=Ve=t,je=0,Tr=null,oo=Hs=on=0,De=ur=null,Zt!==null){for(t=0;t<Zt.length;t++)if(n=Zt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Zt=null}return e}function $u(e,t){do{var n=ge;try{if(Ji(),ls.current=Ps,Ts){for(var r=ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ts=!1}if(ln=0,we=xe=ue=null,ar=!1,Cr=0,io.current=null,n===null||n.return===null){je=1,Tr=t,ge=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Ce,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,y=a,m=y.tag;if(!(y.mode&1)&&(m===0||m===11||m===15)){var h=y.alternate;h?(y.updateQueue=h.updateQueue,y.memoizedState=h.memoizedState,y.lanes=h.lanes):(y.updateQueue=null,y.memoizedState=null)}var j=ha(o);if(j!==null){j.flags&=-257,ma(j,o,a,i,t),j.mode&1&&pa(i,d,t),t=j,c=d;var x=t.updateQueue;if(x===null){var w=new Set;w.add(c),t.updateQueue=w}else x.add(c);break e}else{if(!(t&1)){pa(i,d,t),fo();break e}c=Error(R(426))}}else if(oe&&a.mode&1){var _=ha(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ma(_,o,a,i,t),Hi(Dn(c,a));break e}}i=c=Dn(c,a),je!==4&&(je=2),ur===null?ur=[i]:ur.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=yu(i,c,t);oa(i,f);break e;case 1:a=c;var u=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof u.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(bt===null||!bt.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var g=xu(i,a,t);oa(i,g);break e}}i=i.return}while(i!==null)}Fu(n)}catch(N){t=N,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function Du(){var e=Rs.current;return Rs.current=Ps,e===null?Ps:e}function fo(){(je===0||je===3||je===2)&&(je=4),Ne===null||!(on&268435455)&&!(Hs&268435455)||It(Ne,Ce)}function Is(e,t){var n=G;G|=2;var r=Du();(Ne!==e||Ce!==t)&&(vt=null,tn(e,t));do try{Ip();break}catch(s){$u(e,s)}while(!0);if(Ji(),G=n,Rs.current=r,ge!==null)throw Error(R(261));return Ne=null,Ce=0,je}function Ip(){for(;ge!==null;)Mu(ge)}function Op(){for(;ge!==null&&!sf();)Mu(ge)}function Mu(e){var t=Uu(e.alternate,e,Ve);e.memoizedProps=e.pendingProps,t===null?Fu(e):ge=t,io.current=null}function Fu(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ep(n,t),n!==null){n.flags&=32767,ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,ge=null;return}}else if(n=_p(n,t,Ve),n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);je===0&&(je=5)}function Gt(e,t,n){var r=te,s=Xe.transition;try{Xe.transition=null,te=1,$p(e,t,n,r)}finally{Xe.transition=s,te=r}return null}function $p(e,t,n,r){do Rn();while($t!==null);if(G&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(mf(e,i),e===Ne&&(ge=Ne=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qr||(qr=!0,bu(hs,function(){return Rn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Xe.transition,Xe.transition=null;var o=te;te=1;var a=G;G|=4,io.current=null,Pp(e,n),Lu(n,e),tp(Gl),vs=!!ql,Gl=ql=null,e.current=n,Rp(n),lf(),G=a,te=o,Xe.transition=i}else e.current=n;if(qr&&(qr=!1,$t=e,Ls=s),i=e.pendingLanes,i===0&&(bt=null),cf(n.stateNode),Ue(e,me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(As)throw As=!1,e=gi,gi=null,e;return Ls&1&&e.tag!==0&&Rn(),i=e.pendingLanes,i&1?e===yi?dr++:(dr=0,yi=e):dr=0,Kt(),null}function Rn(){if($t!==null){var e=yc(Ls),t=Xe.transition,n=te;try{if(Xe.transition=null,te=16>e?16:e,$t===null)var r=!1;else{if(e=$t,$t=null,Ls=0,G&6)throw Error(R(331));var s=G;for(G|=4,D=e.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(D=d;D!==null;){var y=D;switch(y.tag){case 0:case 11:case 15:cr(8,y,i)}var m=y.child;if(m!==null)m.return=y,D=m;else for(;D!==null;){y=D;var h=y.sibling,j=y.return;if(Pu(y),y===d){D=null;break}if(h!==null){h.return=j,D=h;break}D=j}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:cr(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,D=f;break e}D=i.return}}var u=e.current;for(D=u;D!==null;){o=D;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,D=p;else e:for(o=u;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ws(9,a)}}catch(N){fe(a,a.return,N)}if(a===o){D=null;break e}var g=a.sibling;if(g!==null){g.return=a.return,D=g;break e}D=a.return}}if(G=s,Kt(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Ds,e)}catch{}r=!0}return r}finally{te=n,Xe.transition=t}}return!1}function Ta(e,t,n){t=Dn(n,t),t=yu(e,t,1),e=Ut(e,t,1),t=Ie(),e!==null&&(Rr(e,1,t),Ue(e,t))}function fe(e,t,n){if(e.tag===3)Ta(e,e,n);else for(;t!==null;){if(t.tag===3){Ta(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bt===null||!bt.has(r))){e=Dn(n,e),e=xu(t,e,1),t=Ut(t,e,1),e=Ie(),t!==null&&(Rr(t,1,e),Ue(t,e));break}}t=t.return}}function Dp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,Ne===e&&(Ce&n)===n&&(je===4||je===3&&(Ce&130023424)===Ce&&500>me()-ao?tn(e,0):oo|=n),Ue(e,t)}function zu(e,t){t===0&&(e.mode&1?(t=Ur,Ur<<=1,!(Ur&130023424)&&(Ur=4194304)):t=1);var n=Ie();e=kt(e,t),e!==null&&(Rr(e,t,n),Ue(e,n))}function Mp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zu(e,n)}function Fp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),zu(e,n)}var Uu;Uu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)Me=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Me=!1,Cp(e,t,n);Me=!!(e.flags&131072)}else Me=!1,oe&&t.flags&1048576&&Wc(t,ks,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;os(e,t),e=t.pendingProps;var s=Ln(t,Ae.current);Pn(t,n),s=to(null,t,r,e,s,n);var i=no();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(i=!0,ws(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qi(t),s.updater=Vs,t.stateNode=s,s._reactInternals=t,ii(t,r,e,n),t=ci(null,t,r,!0,i,n)):(t.tag=0,oe&&i&&Vi(t),Le(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(os(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Up(r),e=rt(r,e),s){case 0:t=ai(null,t,r,e,n);break e;case 1:t=ya(null,t,r,e,n);break e;case 11:t=va(null,t,r,e,n);break e;case 14:t=ga(null,t,r,rt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),ai(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),ya(e,t,r,s,n);case 3:e:{if(ku(t),e===null)throw Error(R(387));r=t.pendingProps,i=t.memoizedState,s=i.element,qc(e,t),_s(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Dn(Error(R(423)),t),t=xa(e,t,r,n,s);break e}else if(r!==s){s=Dn(Error(R(424)),t),t=xa(e,t,r,n,s);break e}else for(We=zt(t.stateNode.containerInfo.firstChild),He=t,oe=!0,lt=null,n=Kc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(In(),r===s){t=St(e,t,n);break e}Le(e,t,r,n)}t=t.child}return t;case 5:return Gc(t),e===null&&ri(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Xl(r,s)?o=null:i!==null&&Xl(r,i)&&(t.flags|=32),Nu(e,t),Le(e,t,o,n),t.child;case 6:return e===null&&ri(t),null;case 13:return Su(e,t,n);case 4:return Gi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=On(t,null,r,n):Le(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),va(e,t,r,s,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,se(Ss,r._currentValue),r._currentValue=o,i!==null)if(at(i.value,o)){if(i.children===s.children&&!Fe.current){t=St(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=jt(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var y=d.pending;y===null?c.next=c:(c.next=y.next,y.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),si(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),si(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Le(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Pn(t,n),s=Ze(s),r=r(s),t.flags|=1,Le(e,t,r,n),t.child;case 14:return r=t.type,s=rt(r,t.pendingProps),s=rt(r.type,s),ga(e,t,r,s,n);case 15:return ju(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),os(e,t),t.tag=1,ze(r)?(e=!0,ws(t)):e=!1,Pn(t,n),gu(t,r,s),ii(t,r,s,n),ci(null,t,r,!0,e,n);case 19:return Cu(e,t,n);case 22:return wu(e,t,n)}throw Error(R(156,t.tag))};function bu(e,t){return hc(e,t)}function zp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,n,r){return new zp(e,t,n,r)}function po(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Up(e){if(typeof e=="function")return po(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ai)return 11;if(e===Li)return 14}return 2}function Vt(e,t){var n=e.alternate;return n===null?(n=Ge(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function us(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")po(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hn:return nn(n.children,s,i,t);case Ri:o=8,s|=8;break;case Rl:return e=Ge(12,n,t,s|2),e.elementType=Rl,e.lanes=i,e;case Al:return e=Ge(13,n,t,s),e.elementType=Al,e.lanes=i,e;case Ll:return e=Ge(19,n,t,s),e.elementType=Ll,e.lanes=i,e;case Ga:return Qs(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ya:o=10;break e;case qa:o=9;break e;case Ai:o=11;break e;case Li:o=14;break e;case Rt:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Ge(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function nn(e,t,n,r){return e=Ge(7,e,r,t),e.lanes=n,e}function Qs(e,t,n,r){return e=Ge(22,e,r,t),e.elementType=Ga,e.lanes=n,e.stateNode={isHidden:!1},e}function Cl(e,t,n){return e=Ge(6,e,null,t),e.lanes=n,e}function _l(e,t,n){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bp(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ho(e,t,n,r,s,i,o,a,c){return e=new bp(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ge(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qi(i),e}function Bp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bu(e){if(!e)return Ht;e=e._reactInternals;e:{if(un(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(ze(n))return Bc(e,n,t)}return t}function Vu(e,t,n,r,s,i,o,a,c){return e=ho(n,r,!0,e,s,i,o,a,c),e.context=Bu(null),n=e.current,r=Ie(),s=Bt(n),i=jt(r,s),i.callback=t??null,Ut(n,i,s),e.current.lanes=s,Rr(e,s,r),Ue(e,r),e}function Js(e,t,n,r){var s=t.current,i=Ie(),o=Bt(s);return n=Bu(n),t.context===null?t.context=n:t.pendingContext=n,t=jt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ut(s,t,o),e!==null&&(ot(e,s,o,i),ss(e,s,o)),o}function Os(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pa(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mo(e,t){Pa(e,t),(e=e.alternate)&&Pa(e,t)}function Vp(){return null}var Wu=typeof reportError=="function"?reportError:function(e){console.error(e)};function vo(e){this._internalRoot=e}Ks.prototype.render=vo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Js(e,t,null,null)};Ks.prototype.unmount=vo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;an(function(){Js(null,e,null,null)}),t[Nt]=null}};function Ks(e){this._internalRoot=e}Ks.prototype.unstable_scheduleHydration=function(e){if(e){var t=wc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&t!==0&&t<Lt[n].priority;n++);Lt.splice(n,0,e),n===0&&kc(e)}};function go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ys(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ra(){}function Wp(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Os(o);i.call(d)}}var o=Vu(t,r,e,0,null,!1,!1,"",Ra);return e._reactRootContainer=o,e[Nt]=o.current,jr(e.nodeType===8?e.parentNode:e),an(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Os(c);a.call(d)}}var c=ho(e,0,!1,null,null,!1,!1,"",Ra);return e._reactRootContainer=c,e[Nt]=c.current,jr(e.nodeType===8?e.parentNode:e),an(function(){Js(t,c,n,r)}),c}function qs(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Os(o);a.call(c)}}Js(t,o,e,s)}else o=Wp(n,t,e,s,r);return Os(o)}xc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tr(t.pendingLanes);n!==0&&($i(t,n|1),Ue(t,me()),!(G&6)&&(Mn=me()+500,Kt()))}break;case 13:an(function(){var r=kt(e,1);if(r!==null){var s=Ie();ot(r,e,1,s)}}),mo(e,1)}};Di=function(e){if(e.tag===13){var t=kt(e,134217728);if(t!==null){var n=Ie();ot(t,e,134217728,n)}mo(e,134217728)}};jc=function(e){if(e.tag===13){var t=Bt(e),n=kt(e,t);if(n!==null){var r=Ie();ot(n,e,t,r)}mo(e,t)}};wc=function(){return te};Nc=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};Bl=function(e,t,n){switch(t){case"input":if($l(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Us(r);if(!s)throw Error(R(90));Za(r),$l(r,s)}}}break;case"textarea":tc(e,n);break;case"select":t=n.value,t!=null&&Cn(e,!!n.multiple,t,!1)}};ac=co;cc=an;var Hp={usingClientEntryPoint:!1,Events:[Lr,yn,Us,ic,oc,co]},Gn={findFiberByHostInstance:Xt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qp={bundleType:Gn.bundleType,version:Gn.version,rendererPackageName:Gn.rendererPackageName,rendererConfig:Gn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fc(e),e===null?null:e.stateNode},findFiberByHostInstance:Gn.findFiberByHostInstance||Vp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gr.isDisabled&&Gr.supportsFiber)try{Ds=Gr.inject(Qp),ft=Gr}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hp;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!go(t))throw Error(R(200));return Bp(e,t,null,n)};Je.createRoot=function(e,t){if(!go(e))throw Error(R(299));var n=!1,r="",s=Wu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ho(e,1,!1,null,null,n,!1,r,s),e[Nt]=t.current,jr(e.nodeType===8?e.parentNode:e),new vo(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=fc(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return an(e)};Je.hydrate=function(e,t,n){if(!Ys(t))throw Error(R(200));return qs(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!go(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Wu;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Vu(t,null,e,1,n??null,s,!1,i,o),e[Nt]=t.current,jr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ks(t)};Je.render=function(e,t,n){if(!Ys(t))throw Error(R(200));return qs(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!Ys(e))throw Error(R(40));return e._reactRootContainer?(an(function(){qs(null,null,e,!1,function(){e._reactRootContainer=null,e[Nt]=null})}),!0):!1};Je.unstable_batchedUpdates=co;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ys(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return qs(e,t,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function Hu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hu)}catch(e){console.error(e)}}Hu(),Ha.exports=Je;var Jp=Ha.exports,Aa=Jp;Tl.createRoot=Aa.createRoot,Tl.hydrateRoot=Aa.hydrateRoot;const re=window.location.origin;async function Gs(){const e=await fetch(`${re}/environments`);if(!e.ok)throw new Error("Failed to load environments");return e.json()}async function Qu(e){const t=await fetch(`${re}/environments/${e}/wiki`);if(!t.ok)throw new Error("Failed to load environment wiki");return t.json()}async function Ju(e){const t=await fetch(`${re}/trajectories`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({env_name:e.env_name||e.envName||"retail",user_model:e.user_model||e.userModel||"gpt-4o",user_provider:e.user_provider||e.userProvider||"openai",agent_model:e.agent_model||e.agentModel||null,agent_provider:e.agent_provider||e.agentProvider||null,persona:e.persona||null,task_index:e.task_index||e.taskIndex||null,task_split:e.task_split||e.taskSplit||"test",generate_scenario:e.generate_scenario??e.generateScenario??!0,task_ids:e.task_ids||e.taskIds||null})});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to create trajectory")}const n=await t.json();return{session_id:n.trajectory_id,...n}}async function Ku(e,t,n={}){const r=await fetch(`${re}/trajectories/${e}/continue`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trajectory_id:e,env_name:t,user_model:n.userModel||"gpt-4o",user_provider:n.userProvider||"openai",agent_model:n.agentModel||null,agent_provider:n.agentProvider||null})});if(!r.ok){const s=await r.json();throw new Error(s.detail||"Failed to continue trajectory")}return r.json()}async function Yu(e,t){const n=await fetch(`${re}/sessions/${e}/parse-action`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_input:t})});if(!n.ok)throw new Error("Could not understand your request. Please try again.");return n.json()}async function qu(e,t){const n=await fetch(`${re}/sessions/${e}/respond`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})});if(!n.ok)throw new Error("Failed to send response");return n.json()}async function yo(e,t,n){const r=await fetch(`${re}/sessions/${e}/tool`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tool_name:t,arguments:n})});if(!r.ok)throw new Error("Failed to call tool");return r.json()}async function wi(e,t){const n=await fetch(`${re}/sessions/${e}/rollback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target_index:t})});if(!n.ok)throw new Error("Failed to rollback");return n.json()}async function Ni(e,t=null,n=null){const r=await fetch(`${re}/sessions/${e}/regenerate-user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejected_message:t,feedback:n})});if(!r.ok)throw new Error("Failed to regenerate user response");return r.json()}async function xo(e,t){const n=await fetch(`${re}/sessions/${e}/generate-response`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t})});if(!n.ok)throw new Error("Failed to generate response");return n.json()}async function Gu(e,t,n=null){const r=await fetch(`${re}/sessions/${e}/regenerate-action`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejected_action:t,feedback:n})});if(!r.ok)throw new Error("Failed to regenerate action");return r.json()}async function Xu(e,t){const n=await fetch(`${re}/sessions/${e}/check-policy`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t})});if(!n.ok)throw new Error("Failed to check policy compliance");return n.json()}async function Zu(){const e=await fetch(`${re}/trajectory/status`);if(!e.ok)throw new Error("Failed to check trajectory storage status");return e.json()}async function ed(e,t,n={}){const r=await fetch(`${re}/trajectories/${e}/messages`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:t.map(s=>({id:String(s.id),role:s.role,content:s.content,reasoning:s.reasoning||null,timestamp:s.timestamp||null,tool_name:s.tool_name||null,tool_arguments:s.tool_arguments||null,rejected:s.rejected||null})),is_done:n.is_done,reward:n.reward,reward_info:n.reward_info})});if(!r.ok){const s=await fetch(`${re}/sessions/${e}/save-trajectory`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trajectory_id:e,messages:t.map(i=>({id:String(i.id),role:i.role,content:i.content,reasoning:i.reasoning||null,timestamp:i.timestamp||null,tool_name:i.tool_name||null,tool_arguments:i.tool_arguments||null,rejected:i.rejected||null})),is_done:n.is_done,reward:n.reward,reward_info:n.reward_info})});if(!s.ok){const i=await s.json();throw new Error(i.detail||"Failed to save trajectory")}return s.json()}return r.json()}async function jo(e=null,t=100){const n=new URLSearchParams;e&&n.append("env_name",e),t&&n.append("limit",t);const r=await fetch(`${re}/trajectories?${n}`);if(!r.ok)throw new Error("Failed to list trajectories");return r.json()}async function wo(e,t){const n=new URLSearchParams({env_name:t}),r=await fetch(`${re}/trajectories/${e}?${n}`);if(!r.ok)throw new Error("Failed to get trajectory");return r.json()}async function td(e,t){const n=new URLSearchParams({env_name:t}),r=await fetch(`${re}/trajectories/${e}?${n}`,{method:"DELETE"});if(!r.ok)throw new Error("Failed to delete trajectory");return r.json()}async function nd(e,t,n){const r=new URLSearchParams({env_name:t}),s=await fetch(`${re}/trajectories/${e}?${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error("Failed to update trajectory");return s.json()}async function rd(e,t=null,n=null,r=null){const s=await fetch(`${re}/trajectories/export`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({format:e,env_name:t||null,trajectory_ids:n||null,date_filter:r||null})});if(!s.ok){const i=await s.json();throw new Error(i.detail||"Failed to export trajectories")}return s.json()}async function Kp(e){const t=await fetch(`${re}/trajectories?limit=500`);if(!t.ok)throw new Error("Failed to fetch trajectories");const r=((await t.json()).trajectories||[]).find(s=>s.id===e);if(!r)throw new Error("Trajectory not found");return wo(e,r.env_name)}async function sd(e){const t=await fetch(`${re}/environments/${e}/files`);if(!t.ok)throw new Error("Failed to load environment files");return t.json()}async function ld(e,t){const n=await fetch(`${re}/environments/${e}/files/${t}`);if(!n.ok)throw new Error("Failed to load file content");return n.json()}async function id(e,t,n){const r=await fetch(`${re}/environments/${e}/files/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:n})});if(!r.ok){const s=await r.json();throw new Error(s.detail||"Failed to save file")}return r.json()}async function od(e,t){const n=await fetch(`${re}/environments/${e}/duplicate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({new_name:t})});if(!n.ok){const r=await n.json();throw new Error(r.detail||"Failed to duplicate environment")}return n.json()}async function ad(e,t){const n=await fetch(`${re}/environments/${e}/rename`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({new_name:t})});if(!n.ok){const r=await n.json();throw new Error(r.detail||"Failed to rename environment")}return n.json()}async function cd(e){const t=await fetch(`${re}/environments/${e}`,{method:"DELETE"});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to delete environment")}return t.json()}const Yp=Object.freeze(Object.defineProperty({__proto__:null,callTool:yo,checkPolicyCompliance:Xu,checkTrajectoryStorageStatus:Zu,continueTrajectory:Ku,createSession:Ju,deleteEnvironment:cd,deleteTrajectory:td,duplicateEnvironment:od,exportTrajectories:rd,fetchEnvironmentFile:ld,fetchEnvironmentFiles:sd,fetchEnvironmentWiki:Qu,fetchEnvironments:Gs,generateResponse:xo,getTrajectory:wo,getTrajectoryByIdAnyEnv:Kp,listTrajectories:jo,parseAction:Yu,regenerateAction:Gu,regenerateUserResponse:Ni,renameEnvironment:ad,rollbackToPoint:wi,saveTrajectory:ed,sendResponse:qu,updateEnvironmentFile:id,updateTrajectory:nd},Symbol.toStringTag,{value:"Module"})),ud=v.createContext(null);function qp({children:e}){const[t,n]=v.useState(null),[r,s]=v.useState(!1),[i,o]=v.useState([]),[a,c]=v.useState(""),[d,y]=v.useState(""),[m,h]=v.useState([]),[j,x]=v.useState(""),[w,_]=v.useState(null),[f,u]=v.useState(!0),[p,g]=v.useState(!1),[N,k]=v.useState(0),[C,S]=v.useState(null),T=30,[E,I]=v.useState(!1),[Y,J]=v.useState(null),X=v.useRef(null),Z=v.useRef(null),O=v.useCallback((K,ne,H={})=>{const{isTemporary:ve=!1,reasoning:ht=null,toolName:_t=null,toolArguments:A=null,rejectedActionType:W=null,rejectedContent:U=null,rejectedToolName:tt=null,rejectedToolArguments:ee=null,rejectedReasoning:q=null}=typeof H=="boolean"?{isTemporary:H}:H,be={id:Date.now()+Math.random(),role:K,content:ne,reasoning:ht,isTemporary:ve,timestamp:new Date().toISOString(),tool_name:_t,tool_arguments:A,rejected_action_type:W,rejected_content:U,rejected_tool_name:tt,rejected_tool_arguments:ee,rejected_reasoning:q};return K==="tool"&&console.log("[addMessage] Tool message created:",{id:be.id,role:be.role,tool_name:be.tool_name,tool_arguments:be.tool_arguments,optionsReceived:{toolName:_t,toolArguments:A}}),h(mt=>[...mt,be]),K==="user"&&!ve&&x(mt=>mt||ne),be.id},[]),M=v.useCallback(K=>{const ne={id:Date.now()+Math.random(),role:"rejected",content:`Rejected: ${K.action_type==="respond"?"Response":"Tool call"}`,reasoning:null,isTemporary:!1,timestamp:new Date().toISOString(),rejected:{content:K.content,reasoning:K.reasoning,tool_name:K.tool_name,tool_arguments:K.arguments}};return h(H=>[...H,ne]),ne.id},[]),P=v.useCallback(K=>{h(ne=>ne.filter(H=>H.id!==K))},[]),L=v.useCallback(K=>{h(ne=>ne.slice(0,-K))},[]),$=v.useCallback(()=>{h([]),x("")},[]),b=v.useCallback(()=>{X.current&&(clearTimeout(X.current),X.current=null),n(null),s(!1),o([]),c(""),y(""),h([]),x(""),_(null),u(!1),g(!1),k(0),S(null),I(!1),J(null),Z.current=null},[]),B=v.useCallback(K=>{const ne=K.filter(ve=>!ve.isTemporary),H=JSON.stringify(ne.map(ve=>ve.id));Z.current=H,console.log("[markMessagesSaved] Marked",ne.length,"messages as saved")},[]);v.useEffect(()=>{if(!t||m.length===0)return;const K=m.filter(H=>!H.isTemporary);if(K.length===0)return;const ne=JSON.stringify(K.map(H=>H.id));if(Z.current!==ne)return X.current&&clearTimeout(X.current),X.current=setTimeout(async()=>{I(!0);try{const H=await ed(t,K,w||{});H.success?(S(H.trajectory_id),J(new Date),Z.current=ne,console.log("[Auto-save] Trajectory saved:",H.trajectory_id)):console.error("[Auto-save] Failed:",H.error)}catch(H){console.error("[Auto-save] Error:",H.message)}finally{I(!1)}},2e3),()=>{X.current&&clearTimeout(X.current)}},[t,m,w]);const ae={sessionId:t,setSessionId:n,isSimulationActive:r,setIsSimulationActive:s,tools:i,setTools:o,persona:a,setPersona:c,wiki:d,setWiki:y,messages:m,setMessages:h,stickyUserMessage:j,setStickyUserMessage:x,finalResult:w,setFinalResult:_,addMessage:O,addRejectedSuggestion:M,removeMessage:P,removeLastMessages:L,clearMessages:$,resetSession:b,markMessagesSaved:B,isAutopilotEnabled:f,setIsAutopilotEnabled:u,isAutoApproveEnabled:p,setIsAutoApproveEnabled:g,autopilotTurnCount:N,setAutopilotTurnCount:k,AUTOPILOT_TURN_LIMIT:T,trajectoryId:C,setTrajectoryId:S,isAutoSaving:E,lastSaveTime:Y};return l.jsx(ud.Provider,{value:ae,children:e})}function bn(){const e=v.useContext(ud);if(!e)throw new Error("useSession must be used within a SessionProvider");return e}const dd=v.createContext(null);function Gp({children:e}){const[t,n]=v.useState([]),r=v.useCallback((i,o="info")=>{const a=Date.now();n(c=>[...c,{id:a,message:i,type:o}]),setTimeout(()=>{n(c=>c.filter(d=>d.id!==a))},3e3)},[]),s=v.useCallback(i=>{n(o=>o.filter(a=>a.id!==i))},[]);return l.jsx(dd.Provider,{value:{toasts:t,showToast:r,removeToast:s},children:e})}function Bn(){const e=v.useContext(dd);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}function Xp({currentView:e,onNavigate:t}){const[n,r]=v.useState(!1),[s,i]=v.useState(!1),o=[{id:"simulator",label:"Simulator",icon:""},{id:"trajectory",label:"Trajectory",icon:""},{id:"environments",label:"Environments",icon:""}],a=c=>{t(c),i(!1)};return l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"mobile-menu-toggle",onClick:()=>i(!s),"aria-label":"Toggle menu",children:l.jsxs("span",{className:`hamburger ${s?"open":""}`,children:[l.jsx("span",{}),l.jsx("span",{}),l.jsx("span",{})]})}),s&&l.jsx("div",{className:"sidebar-backdrop",onClick:()=>i(!1)}),l.jsxs("aside",{className:`sidebar ${n?"collapsed":""} ${s?"mobile-open":""}`,children:[l.jsxs("div",{className:"sidebar-header",children:[l.jsxs("div",{className:"sidebar-logo",children:[l.jsx("span",{className:"logo-icon",children:""}),!n&&l.jsx("span",{className:"logo-text",children:"Sigma"})]}),l.jsx("button",{className:"collapse-btn desktop-only",onClick:()=>r(!n),"aria-label":n?"Expand sidebar":"Collapse sidebar",children:n?"":""})]}),l.jsx("nav",{className:"sidebar-nav",children:o.map(c=>l.jsxs("button",{className:`nav-item ${e===c.id?"active":""}`,onClick:()=>a(c.id),title:n?c.label:void 0,children:[l.jsx("span",{className:"nav-icon",children:c.icon}),!n&&l.jsx("span",{className:"nav-label",children:c.label})]},c.id))}),l.jsx("div",{className:"sidebar-footer",children:!n&&l.jsx("p",{className:"sidebar-tagline",children:"LLM User Simulator"})})]})]})}function Zp({currentView:e,onNavigate:t,children:n}){return l.jsxs("div",{className:"app-layout",children:[l.jsx(Xp,{currentView:e,onNavigate:t}),l.jsx("main",{className:"main-content-area",children:n})]})}function eh(){return l.jsx("header",{className:"header",children:l.jsxs("div",{className:"header-left",children:[l.jsx("h1",{children:"Sigma"}),l.jsx("p",{children:"Act as an agent, interact with an LLM-simulated user"})]})})}function th({content:e,contentType:t,loading:n,envName:r,sessionReady:s,generatedScenario:i,onBeginSession:o,onClose:a}){const[c,d]=v.useState({}),[y,m]=v.useState(null),h=v.useRef(null),j=v.useMemo(()=>{if(!e||t!=="markdown")return[];const g=[];return e.split(`
`).forEach((k,C)=>{const S=k.match(/^# (.+)$/),T=k.match(/^## (.+)$/);S?g.push({level:1,text:S[1],id:`section-${C}`}):T&&g.push({level:2,text:T[1],id:`section-${C}`})}),g},[e,t]),x=v.useMemo(()=>{if(!e||t!=="markdown")return null;const g=e.split(`
`);let N="",k=!1,C=!1,S=null,T="";const E=()=>{S&&T&&(N+=`<div class="collapsible-content" data-section="${S}">${T}</div></div>`,T="")};return g.forEach((I,Y)=>{const J=I.match(/^\s*[-*+]\s+(.*)$/),X=I.match(/^\s*(\d+)\.\s+(.*)$/);if(J){k||(T+='<ul class="policy-list">',k=!0),T+=`<li>${J[1]}</li>`;return}else if(X){C||(T+='<ol class="policy-list">',C=!0),T+=`<li>${X[2]}</li>`;return}else k&&(T+="</ul>",k=!1),C&&(T+="</ol>",C=!1);if(I.match(/^# /)){E();const Z=I.replace(/^# /,"");N+=`<h1 class="policy-h1" id="section-${Y}">${Z}</h1>`,S=null}else if(I.match(/^## /)){E();const Z=I.replace(/^## /,""),O=/^(Domain|User|Flight|Reservation|Baggage|Payment|Refund|Ticket|Policy)/i.test(Z),M=`section-${Y}`;S=M,N+=`<div class="collapsible-section" data-section="${M}">
          <h2 class="policy-h2 collapsible-header${O?" domain-section":""}" id="${M}" data-section="${M}">
            <span class="collapse-icon"></span>
            ${Z}
          </h2>`,T=""}else I.match(/^### /)?T+=I.replace(/^### (.*$)/,'<h3 class="policy-h3">$1</h3>'):I.trim()===""?T+="<br/>":T+=`<p>${I}</p>`}),k&&(T+="</ul>"),C&&(T+="</ol>"),E(),N=N.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/__(.+?)__/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/_([^_]+)_/g,"<em>$1</em>").replace(/```([\s\S]*?)```/g,"<pre><code>$1</code></pre>").replace(/`([^`]+)`/g,"<code>$1</code>"),N},[e,t]),w=g=>{g.target===g.currentTarget&&a()},_=g=>{d(N=>({...N,[g]:!N[g]}))},f=g=>{const N=g.target.closest(".collapsible-header");if(N){const k=N.dataset.section;k&&_(k)}},u=g=>{var k;m(g),c[g]&&d(C=>({...C,[g]:!1}));const N=(k=h.current)==null?void 0:k.querySelector(`#${g}`);N&&N.scrollIntoView({behavior:"smooth",block:"start"})};v.useEffect(()=>{if(!h.current)return;h.current.querySelectorAll(".collapsible-section").forEach(N=>{const k=N.dataset.section,C=N.querySelector(".collapsible-content"),S=N.querySelector(".collapse-icon");C&&S&&(c[k]?(C.classList.add("collapsed"),S.classList.add("collapsed")):(C.classList.remove("collapsed"),S.classList.remove("collapsed")))})},[c,x]);const p=()=>e?t==="html"?l.jsx("iframe",{className:"wiki-popup-iframe",srcDoc:e,title:`Wiki - ${r}`,sandbox:"allow-scripts allow-same-origin"}):l.jsxs("div",{className:"wiki-content-wrapper",children:[j.length>0&&l.jsxs("nav",{className:"wiki-toc",children:[l.jsxs("div",{className:"toc-header",children:[l.jsx("span",{className:"toc-icon",children:""}),l.jsx("span",{className:"toc-title",children:"Contents"})]}),l.jsx("ul",{className:"toc-list",children:j.map((g,N)=>l.jsxs("li",{className:`toc-item toc-level-${g.level} ${y===g.id?"active":""}`,onClick:()=>u(g.id),children:[g.level===2&&l.jsx("span",{className:"toc-bullet",children:""}),l.jsx("span",{className:"toc-text",children:g.text})]},N))}),l.jsxs("div",{className:"toc-actions",children:[l.jsx("button",{className:"toc-btn",onClick:()=>d({}),title:"Expand all sections",children:"Expand All"}),l.jsx("button",{className:"toc-btn",onClick:()=>{const g={};j.filter(N=>N.level===2).forEach(N=>{g[N.id]=!0}),d(g)},title:"Collapse all sections",children:"Collapse All"})]})]}),l.jsx("div",{ref:h,className:"wiki-popup-body",onClick:f,dangerouslySetInnerHTML:{__html:x}})]}):l.jsx("div",{className:"wiki-popup-placeholder",children:l.jsx("p",{children:"Loading documentation..."})});return l.jsx("div",{className:"wiki-popup-overlay",onClick:w,children:l.jsxs("div",{className:`wiki-popup ${t==="html"?"wiki-popup-fullsize":""}`,children:[l.jsxs("div",{className:"wiki-popup-header",children:[l.jsxs("div",{className:"wiki-popup-title-section",children:[l.jsx("span",{className:"wiki-popup-icon",children:""}),l.jsx("span",{className:"wiki-popup-title",children:"Welcome! Please review the agent policy before starting"})]}),l.jsx("button",{className:"wiki-popup-close",onClick:a,title:"Close",children:""})]}),l.jsx("div",{className:`wiki-popup-content ${t==="html"?"wiki-popup-content-iframe":""}`,children:p()}),i&&i.seed_task_instruction&&l.jsxs("div",{className:"wiki-popup-inspiration",children:[l.jsxs("div",{className:"inspiration-header",children:[l.jsx("span",{className:"inspiration-icon",children:""}),l.jsx("span",{className:"inspiration-title",children:"Generated Scenario"})]}),l.jsxs("div",{className:"inspiration-content",children:[l.jsx("div",{className:"inspiration-label",children:"Inspired by task:"}),l.jsx("div",{className:"inspiration-text",children:i.seed_task_instruction})]})]}),l.jsxs("div",{className:"wiki-popup-footer",children:[l.jsx("div",{className:"wiki-popup-status",children:s?l.jsx("span",{className:"status-ready",children:" Trajectory Ready"}):l.jsxs("span",{className:"status-loading",children:[l.jsx("span",{className:"mini-spinner"}),"Initializing trajectory..."]})}),l.jsxs("div",{className:"wiki-popup-actions",children:[l.jsx("button",{className:"btn btn-secondary",onClick:a,children:"Cancel"}),l.jsx("button",{className:`btn btn-begin ${s?"ready pulse":""}`,onClick:o,disabled:!s,children:s?" Begin Trajectory":"Waiting..."})]})]})]})})}function nh({onNavigate:e}){const[t,n]=v.useState([]),[r,s]=v.useState(""),[i,o]=v.useState(""),[a,c]=v.useState(!1),[d,y]=v.useState(!1),[m,h]=v.useState(!1),[j,x]=v.useState(null),[w,_]=v.useState(null),[f,u]=v.useState(!1),[p,g]=v.useState(!1),[N,k]=v.useState(null),[C,S]=v.useState(null),[T,E]=v.useState("new"),[I,Y]=v.useState([]),[J,X]=v.useState(""),[Z,O]=v.useState(!1),[M,P]=v.useState("generate"),[L,$]=v.useState(""),[b,B]=v.useState(""),[ae,K]=v.useState("gpt-5-mini"),[ne,H]=v.useState("openai"),[ve,ht]=v.useState("gpt-5.2"),[_t,A]=v.useState(""),{showToast:W}=Bn(),U=F=>{const ke=`; ${document.cookie}`.split(`; ${F}=`);return ke.length===2?ke.pop().split(";").shift():null},tt=(F,pe,ke=365)=>{const Ee=new Date(Date.now()+ke*864e5).toUTCString();document.cookie=`${F}=${encodeURIComponent(pe)}; expires=${Ee}; path=/`};v.useEffect(()=>{const F=U("sigma_inspiration_task_ids");F&&B(decodeURIComponent(F))},[]),v.useEffect(()=>{ee()},[]),v.useEffect(()=>{T==="continue"&&r&&q()},[T,r]);const ee=async()=>{try{const F=await Gs();n(F),F.length>0&&(s(F[0].name),o(F[0].description||""))}catch{W("Failed to load environments","error")}},q=async()=>{if(r){O(!0);try{const pe=((await jo(r,50)).trajectories||[]).sort((ke,Ee)=>(Ee.created_at||"").localeCompare(ke.created_at||""));Y(pe),X("")}catch{W("Failed to load trajectories","error"),Y([])}finally{O(!1)}}},be=F=>{const pe=F.target.value;s(pe);const ke=t.find(Ee=>Ee.name===pe);o((ke==null?void 0:ke.description)||""),X(""),Y([])},mt=F=>{E(F),F==="continue"&&r&&I.length===0&&q()},Or=async()=>{if(!r){W("Please select an environment","error");return}if(T==="continue"){if(!J){W("Please select a trajectory to continue","error");return}e(`/trajectories/${J}/simulation`);return}c(!0),h(!0),g(!1),k(null),S(null),u(!0),Qu(r).then(F=>{x(F.content),_(F.content_type)}).catch(F=>{console.warn("Wiki fetch failed, will use session response fallback:",F.message)}).finally(()=>{u(!1)});try{M==="generate"&&b&&tt("sigma_inspiration_task_ids",b);const F={env_name:r,user_model:ae,user_provider:ne,agent_model:ve||null,task_index:M==="existing"&&L?parseInt(L):null,task_split:"test",persona:_t||null,generate_scenario:M==="generate",task_ids:M==="generate"&&b?b.split(",").map(Ee=>parseInt(Ee.trim())).filter(Ee=>!isNaN(Ee)):null},pe=await Ju(F),ke=pe.trajectory_id||pe.session_id;S(ke),k({session_id:ke,initial_message:pe.initial_message,persona:pe.persona,tools:pe.tools,wiki:pe.wiki,generated_scenario:pe.generated_scenario}),x(Ee=>!Ee&&pe.wiki?(_("markdown"),u(!1),pe.wiki):Ee),g(!0),c(!1)}catch(F){W(F.message,"error"),h(!1),x(null),_(null),c(!1)}},Et=v.useCallback(()=>{!N||!C||(h(!1),x(null),_(null),g(!1),k(null),e(`/trajectories/${C}/simulation`),W("Trajectory created!","success"))},[N,C,e,W]),Xs=v.useCallback(()=>{h(!1),x(null),_(null),g(!1),k(null),S(null),c(!1)},[]),Zs=F=>{var dn;const pe=F.created_at?new Date(F.created_at).toLocaleString():"Unknown date",ke=F.is_done?"":"",Ee=F.reward!==null&&F.reward!==void 0?` (${F.reward})`:"";return`${ke} ${pe}${Ee} - ${(dn=F.id)==null?void 0:dn.slice(0,8)}...`};return l.jsxs("div",{className:"setup-panel",children:[l.jsx("h2",{children:" Trajectory Setup"}),l.jsxs("div",{className:"setup-content",children:[l.jsx("div",{className:"form-row",children:l.jsxs("div",{className:"form-group",style:{flex:2},children:[l.jsx("label",{htmlFor:"envSelect",children:"Environment"}),l.jsx("select",{id:"envSelect",value:r,onChange:be,children:t.length===0?l.jsx("option",{value:"",children:"Loading environments..."}):t.map(F=>l.jsx("option",{value:F.name,children:F.display_name},F.name))}),i&&l.jsx("div",{className:"env-description visible",children:i})]})}),l.jsx("div",{className:"form-row trajectory-mode-row",children:l.jsxs("div",{className:"trajectory-mode-toggle",children:[l.jsx("button",{className:`mode-btn ${T==="new"?"active":""}`,onClick:()=>mt("new"),children:" New Trajectory"}),l.jsx("button",{className:`mode-btn ${T==="continue"?"active":""}`,onClick:()=>mt("continue"),children:" Continue Existing"})]})}),T==="continue"&&l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",style:{flex:2},children:[l.jsx("label",{htmlFor:"trajectorySelect",children:"Select Trajectory to Continue"}),l.jsxs("select",{id:"trajectorySelect",value:J,onChange:F=>X(F.target.value),disabled:Z,children:[l.jsx("option",{value:"",children:Z?"Loading trajectories...":"-- Select a trajectory --"}),I.map(F=>l.jsx("option",{value:F.id,children:Zs(F)},F.id))]}),I.length===0&&!Z&&l.jsx("div",{className:"form-hint",children:"No trajectories found for this environment."}),l.jsx("div",{className:"form-hint",children:" = completed,  = in progress"})]}),l.jsx("button",{className:"btn btn-secondary btn-refresh",onClick:q,disabled:Z,title:"Refresh trajectory list",children:""})]}),l.jsx("div",{className:"form-row",children:l.jsx("button",{className:"btn btn-success",onClick:Or,disabled:a||T==="continue"&&!J,children:a?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner"})," Starting..."]}):T==="continue"?" Continue Trajectory":" Start New Trajectory"})}),l.jsxs("div",{className:"advanced-section",children:[l.jsxs("div",{className:"advanced-header",onClick:()=>y(!d),children:[l.jsx("span",{children:" Advanced Options"}),l.jsx("span",{className:`advanced-toggle-icon ${d?"expanded":""}`,children:""})]}),d&&l.jsxs("div",{className:"advanced-content",children:[l.jsxs("div",{className:"scenario-source-section",children:[l.jsx("label",{className:"section-label",children:"Scenario Source"}),l.jsxs("div",{className:"scenario-source-toggle",children:[l.jsx("button",{className:`source-btn ${M==="generate"?"active":""}`,onClick:()=>P("generate"),type:"button",children:" Generate New Scenario"}),l.jsx("button",{className:`source-btn ${M==="existing"?"active":""}`,onClick:()=>P("existing"),type:"button",children:" Use Existing Task"})]})]}),M==="generate"&&l.jsxs("div",{className:"scenario-options-box",children:[l.jsx("div",{className:"options-description",children:"AI will create a unique scenario inspired by existing tasks"}),l.jsx("div",{className:"form-row",children:l.jsxs("div",{className:"form-group",style:{flex:2},children:[l.jsx("label",{htmlFor:"taskIds",children:"Inspiration Task IDs (optional)"}),l.jsx("input",{type:"text",id:"taskIds",value:b,onChange:F=>B(F.target.value),placeholder:"e.g., 1,5,12,23 (comma-separated)"}),l.jsx("span",{className:"form-hint",children:"Limit which tasks to sample from when generating scenarios. Leave empty to use all tasks."})]})})]}),M==="existing"&&l.jsxs("div",{className:"scenario-options-box",children:[l.jsx("div",{className:"options-description",children:"Use a pre-defined task from the task bank"}),l.jsx("div",{className:"form-row",children:l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"taskIndex",children:"Task Index"}),l.jsx("input",{type:"number",id:"taskIndex",value:L,onChange:F=>$(F.target.value),placeholder:"Random if empty",min:"0"}),l.jsx("span",{className:"form-hint",children:"Specify the array index of the task to use. Leave empty for random selection."})]})})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"userModel",children:"User Model"}),l.jsx("input",{type:"text",id:"userModel",value:ae,onChange:F=>K(F.target.value)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"userProvider",children:"User Provider"}),l.jsx("input",{type:"text",id:"userProvider",value:ne,onChange:F=>H(F.target.value)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"agentModel",children:"Agent Model (for assistance)"}),l.jsx("input",{type:"text",id:"agentModel",value:ve,onChange:F=>ht(F.target.value)})]})]}),l.jsx("div",{className:"form-row",children:l.jsxs("div",{className:"form-group",style:{flex:2},children:[l.jsx("label",{htmlFor:"customPersona",children:"Custom Persona (optional)"}),l.jsx("textarea",{id:"customPersona",value:_t,onChange:F=>A(F.target.value),placeholder:"E.g., You are John Smith. You want to cancel order #W1234567 because you ordered by mistake."})]})})]})]})]}),m&&l.jsx(th,{content:j,contentType:w,loading:f,envName:r,sessionReady:p,generatedScenario:N==null?void 0:N.generated_scenario,onBeginSession:Et,onClose:Xs})]})}function La(){const{toasts:e}=Bn();return l.jsx("div",{className:"toast-container",children:e.map(t=>l.jsx("div",{className:`toast ${t.type}`,children:t.message},t.id))})}function rh({trajectories:e,onView:t,onDelete:n,onMarkComplete:r,loadingId:s}){const i=o=>{if(!o||o==="null"||o==="undefined")return"N/A";try{let a=String(o).trim();a.includes("T")&&!a.endsWith("Z")&&!a.includes("+")&&!/\d{2}:\d{2}:\d{2}-\d{2}/.test(a)&&(a=a+"Z");const c=new Date(a);if(isNaN(c.getTime())){const d=new Date(o);return isNaN(d.getTime())?o:d.toLocaleString()}return c.toLocaleString()}catch{return o||"N/A"}};return e.length===0?l.jsxs("div",{className:"trajectory-table-empty",children:[l.jsx("span",{className:"empty-icon",children:""}),l.jsx("h3",{children:"No trajectories found"}),l.jsx("p",{children:"Try adjusting your filters or create some simulation sessions first."})]}):l.jsx("div",{className:"trajectory-table-container",children:l.jsxs("table",{className:"trajectory-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"ID"}),l.jsx("th",{children:"Environment"}),l.jsx("th",{children:"Created At"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:e.map(o=>{var a;return l.jsxs("tr",{children:[l.jsx("td",{className:"id-cell",children:l.jsxs("span",{className:"trajectory-id",title:o.id,children:[(a=o.id)==null?void 0:a.substring(0,8),"..."]})}),l.jsx("td",{children:l.jsx("span",{className:"env-badge",children:o.env_name})}),l.jsx("td",{className:"date-cell",children:i(o.created_at)}),l.jsx("td",{children:l.jsx("span",{className:`status-badge ${o.is_done?"done":"incomplete"}`,children:o.is_done?" Complete":" Incomplete"})}),l.jsxs("td",{className:"actions-cell",children:[l.jsxs("button",{className:"action-button view",onClick:()=>t(o),disabled:s===o.id,title:"View trajectory",children:[s===o.id?"":""," View"]}),!o.is_done&&l.jsx("button",{className:"action-button complete",onClick:()=>r(o),title:"Mark as complete",children:" Complete"}),l.jsx("button",{className:"action-button delete",onClick:()=>n(o),title:"Delete trajectory",children:" Delete"})]})]},o.id)})})]})})}const sh={user:"",agent:"",tool:"","tool-result":"",system:"",rejected:""},lh={user:"User",agent:"Agent",tool:"Tool Call","tool-result":"Tool Result",system:"System",rejected:"Rejected Suggestion"};function ih({trajectory:e,onClose:t,onDelete:n,onMarkComplete:r,onSimulate:s}){var j,x,w,_;const[i,o]=v.useState("conversation"),[a,c]=v.useState(new Set),d=f=>{c(u=>{const p=new Set(u);return p.has(f)?p.delete(f):p.add(f),p})},y=f=>{if(!f)return"N/A";try{let u=f;!f.endsWith("Z")&&!f.includes("+")&&!f.includes("-",10)&&(u=f+"Z");const p=new Date(u);return isNaN(p.getTime())?f:p.toLocaleString()}catch{return f}},m=f=>{if(!f)return"null";try{return JSON.stringify(f,null,2)}catch{return String(f)}},h=(f,u)=>{const p=a.has(f.id),g=f.reasoning||f.tool_arguments||f.rejected&&(f.rejected.reasoning||f.rejected.tool_arguments);return l.jsxs("div",{className:`viewer-message ${f.role}`,children:[l.jsxs("div",{className:"viewer-message-header",onClick:()=>g&&d(f.id),style:{cursor:g?"pointer":"default"},children:[l.jsx("span",{className:"message-icon",children:sh[f.role]||""}),l.jsx("span",{className:"message-role",children:lh[f.role]||f.role}),f.tool_name&&l.jsx("span",{className:"tool-name-badge",children:f.tool_name}),f.timestamp&&l.jsx("span",{className:"message-timestamp",children:y(f.timestamp)}),g&&l.jsx("span",{className:"expand-indicator",children:p?"":""})]}),f.content&&l.jsx("div",{className:"viewer-message-content",children:f.content}),f.tool_arguments&&l.jsxs("div",{className:"viewer-message-details",children:[l.jsx("div",{className:"details-label",children:"Arguments:"}),l.jsx("pre",{className:"details-code",children:m(f.tool_arguments)})]}),p&&l.jsxs("div",{className:"viewer-message-expanded",children:[f.reasoning&&l.jsxs("div",{className:"reasoning-section",children:[l.jsx("div",{className:"reasoning-label",children:" Reasoning"}),l.jsx("div",{className:"reasoning-content",children:f.reasoning})]}),f.role==="rejected"&&f.rejected&&l.jsxs("div",{className:"rejected-details",children:[l.jsxs("div",{className:"rejected-type",children:["Type: ",f.rejected.tool_name?"tool_call":"respond"]}),f.rejected.content&&l.jsxs("div",{className:"rejected-content",children:[l.jsx("div",{className:"details-label",children:"Rejected Content:"}),l.jsx("div",{className:"details-value",children:f.rejected.content})]}),f.rejected.tool_name&&l.jsxs("div",{className:"rejected-tool",children:[l.jsxs("div",{className:"details-label",children:["Rejected Tool: ",f.rejected.tool_name]}),f.rejected.tool_arguments&&l.jsx("pre",{className:"details-code",children:m(f.rejected.tool_arguments)})]}),f.rejected.reasoning&&l.jsxs("div",{className:"rejected-reasoning",children:[l.jsx("div",{className:"details-label",children:"Rejected Reasoning:"}),l.jsx("div",{className:"details-value",children:f.rejected.reasoning})]})]})]})]},f.id||u)};return l.jsx("div",{className:"trajectory-viewer-overlay",onClick:t,children:l.jsxs("div",{className:"trajectory-viewer",onClick:f=>f.stopPropagation(),children:[l.jsxs("div",{className:"viewer-header",children:[l.jsx("h2",{children:" Trajectory Details"}),l.jsx("button",{className:"close-button",onClick:t,children:""})]}),l.jsxs("div",{className:"viewer-tabs",children:[l.jsx("button",{className:`tab ${i==="conversation"?"active":""}`,onClick:()=>o("conversation"),children:" Conversation"}),l.jsx("button",{className:`tab ${i==="metadata"?"active":""}`,onClick:()=>o("metadata"),children:" Metadata"}),l.jsx("button",{className:`tab ${i==="task"?"active":""}`,onClick:()=>o("task"),children:" Task Info"})]}),l.jsxs("div",{className:"viewer-content",children:[i==="conversation"&&l.jsxs("div",{className:"conversation-tab",children:[l.jsxs("div",{className:"conversation-stats",children:[l.jsxs("span",{children:[((j=e.messages)==null?void 0:j.length)||0," messages"]}),l.jsx("span",{className:"separator",children:""}),l.jsxs("span",{className:`reward ${e.reward>=1?"success":"partial"}`,children:["Reward: ",((x=e.reward)==null?void 0:x.toFixed(2))||"N/A"]})]}),l.jsx("div",{className:"messages-container",children:(w=e.messages)==null?void 0:w.map((f,u)=>h(f,u))})]}),i==="metadata"&&l.jsxs("div",{className:"metadata-tab",children:[l.jsxs("div",{className:"metadata-grid",children:[l.jsxs("div",{className:"metadata-item",children:[l.jsx("label",{children:"Trajectory ID"}),l.jsx("span",{className:"mono",children:e.id})]}),l.jsxs("div",{className:"metadata-item",children:[l.jsx("label",{children:"Session ID"}),l.jsx("span",{className:"mono",children:e.session_id})]}),l.jsxs("div",{className:"metadata-item",children:[l.jsx("label",{children:"Environment"}),l.jsx("span",{children:e.env_name})]}),l.jsxs("div",{className:"metadata-item",children:[l.jsx("label",{children:"Created At"}),l.jsx("span",{children:y(e.created_at)})]}),l.jsxs("div",{className:"metadata-item",children:[l.jsx("label",{children:"User Model"}),l.jsxs("span",{children:[e.user_model," (",e.user_provider,")"]})]}),l.jsxs("div",{className:"metadata-item",children:[l.jsx("label",{children:"Agent Model"}),l.jsxs("span",{children:[e.agent_model||"N/A"," (",e.agent_provider||"N/A",")"]})]}),l.jsxs("div",{className:"metadata-item",children:[l.jsx("label",{children:"Status"}),l.jsx("span",{className:e.is_done?"status-done":"status-incomplete",children:e.is_done?" Complete":" Incomplete"})]}),l.jsxs("div",{className:"metadata-item",children:[l.jsx("label",{children:"Reward"}),l.jsx("span",{className:`reward ${e.reward>=1?"success":"partial"}`,children:((_=e.reward)==null?void 0:_.toFixed(2))||"N/A"})]})]}),e.reward_info&&l.jsxs("div",{className:"metadata-section",children:[l.jsx("h4",{children:"Reward Info"}),l.jsx("pre",{className:"metadata-json",children:m(e.reward_info)})]})]}),i==="task"&&l.jsxs("div",{className:"task-tab",children:[l.jsxs("div",{className:"metadata-grid",children:[l.jsxs("div",{className:"metadata-item",children:[l.jsx("label",{children:"Task Index"}),l.jsx("span",{children:e.task_index??"N/A"})]}),l.jsxs("div",{className:"metadata-item",children:[l.jsx("label",{children:"Task Split"}),l.jsx("span",{children:e.task_split||"N/A"})]})]}),e.task_instruction&&l.jsxs("div",{className:"task-instruction-section",children:[l.jsx("h4",{children:"Task Instruction"}),l.jsx("div",{className:"task-instruction",children:e.task_instruction})]}),e.persona&&l.jsxs("div",{className:"persona-section",children:[l.jsx("h4",{children:"Persona"}),l.jsx("div",{className:"persona-content",children:e.persona})]}),e.expected_actions&&e.expected_actions.length>0&&l.jsxs("div",{className:"expected-actions-section",children:[l.jsx("h4",{children:"Expected Actions"}),l.jsx("pre",{className:"metadata-json",children:m(e.expected_actions)})]})]})]}),l.jsxs("div",{className:"viewer-footer",children:[s&&l.jsx("button",{className:"simulate-button",onClick:s,children:" Continue Simulation"}),l.jsx("button",{className:"delete-button",onClick:n,children:" Delete Trajectory"}),!e.is_done&&r&&l.jsx("button",{className:"complete-button",onClick:r,children:" Mark as Complete"}),l.jsx("button",{className:"close-footer-button",onClick:t,children:"Close"})]})]})})}function oh(){const[e,t]=v.useState([]),[n,r]=v.useState([]),[s,i]=v.useState(""),[o,a]=v.useState(""),[c,d]=v.useState("all"),[y,m]=v.useState(!0),[h,j]=v.useState(null),[x,w]=v.useState(null),[_,f]=v.useState(!1),[u,p]=v.useState(!1),[g,N]=v.useState("dpo"),[k,C]=v.useState(!1),S=v.useCallback(async()=>{m(!0),j(null);try{let M=(await jo(s||null,500)).trajectories||[];o&&(M=M.filter(P=>(P.created_at||"").startsWith(o))),c==="complete"?M=M.filter(P=>P.is_done===!0):c==="incomplete"&&(M=M.filter(P=>P.is_done!==!0)),M.sort((P,L)=>{const $=P.created_at||"";return(L.created_at||"").localeCompare($)}),t(M)}catch(O){j(O.message)}finally{m(!1)}},[s,o,c]),T=v.useCallback(async()=>{try{const O=await Gs();r(O)}catch(O){console.error("Failed to load environments:",O)}},[]);v.useEffect(()=>{T()},[T]),v.useEffect(()=>{S()},[S]);const E=async O=>{p(!0);try{const M=await wo(O.id,O.env_name);w(M),f(!0)}catch(M){j(`Failed to load trajectory: ${M.message}`)}finally{p(!1)}},I=async O=>{if(window.confirm(`Are you sure you want to delete this trajectory?

ID: ${O.id}
Env: ${O.env_name}`))try{await td(O.id,O.env_name),S()}catch(M){j(`Failed to delete trajectory: ${M.message}`)}},Y=async O=>{try{await nd(O.id,O.env_name,{is_done:!0}),S(),x&&x.id===O.id&&w({...x,is_done:!0})}catch(M){j(`Failed to mark trajectory as complete: ${M.message}`)}},J=()=>{f(!1),w(null)},X=O=>{window.location.href=`/trajectories/${O.id}/simulation`},Z=async()=>{if(e.length===0){j("No trajectories to export");return}C(!0),j(null);try{const O=e.map(P=>P.id),M=await rd(g,s||null,O,o||null);if(M.success){const P=new Blob([M.data],{type:"application/x-ndjson"}),L=URL.createObjectURL(P),$=document.createElement("a");$.href=L;const b=new Date().toISOString().split("T")[0],B=s?`_${s}`:"";$.download=`${g}_training_data${B}_${b}.jsonl`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(L),alert(`Successfully exported ${M.count} records in ${g.toUpperCase()} format`)}else j(`Export failed: ${M.error}`)}catch(O){j(`Export failed: ${O.message}`)}finally{C(!1)}};return l.jsxs("div",{className:"admin-page",children:[l.jsxs("div",{className:"admin-header",children:[l.jsx("div",{className:"admin-header-left",children:l.jsx("h1",{children:" Trajectory Admin"})}),l.jsx("div",{className:"admin-stats",children:l.jsxs("span",{className:"stat-badge",children:[e.length," trajectories"]})})]}),l.jsxs("div",{className:"admin-filters",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Environment"}),l.jsxs("select",{value:s,onChange:O=>i(O.target.value),children:[l.jsx("option",{value:"",children:"All Environments"}),n.map(O=>l.jsx("option",{value:O.name,children:O.display_name},O.name))]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{value:c,onChange:O=>d(O.target.value),children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"complete",children:" Complete"}),l.jsx("option",{value:"incomplete",children:" Incomplete"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Date (YYYY-MM-DD)"}),l.jsx("input",{type:"text",value:o,onChange:O=>a(O.target.value),placeholder:"e.g. 2025-12-20",pattern:"\\d{4}-\\d{2}-\\d{2}"})]}),l.jsx("button",{className:"refresh-button",onClick:S,disabled:y,children:" Refresh"}),(o||c!=="all")&&l.jsx("button",{className:"clear-filter-button",onClick:()=>{a(""),d("all")},children:" Clear Filters"}),l.jsxs("div",{className:"export-group",children:[l.jsxs("select",{value:g,onChange:O=>N(O.target.value),className:"export-format-select",children:[l.jsx("option",{value:"dpo",children:"DPO Format"}),l.jsx("option",{value:"grpo",children:"GRPO Format"}),l.jsx("option",{value:"sft",children:"SFT Format"})]}),l.jsx("button",{className:"export-button",onClick:Z,disabled:k||e.length===0,title:g==="dpo"?"Export as DPO (Direct Preference Optimization) format - creates chosen/rejected pairs from rejected suggestions":g==="grpo"?"Export as GRPO (Group Relative Policy Optimization) format - extracts tool call sequences for verifiable rewards":"Export as SFT (Supervised Fine-Tuning) format - creates one training sample per assistant turn",children:k?" Exporting...":" Export Training Data"})]})]}),h&&l.jsxs("div",{className:"admin-error",children:[" ",h,l.jsx("button",{onClick:()=>j(null),children:""})]}),y?l.jsxs("div",{className:"admin-loading",children:[l.jsx("div",{className:"spinner"}),l.jsx("span",{children:"Loading trajectories..."})]}):l.jsx(rh,{trajectories:e,onView:E,onDelete:I,onMarkComplete:Y,loadingId:u?x==null?void 0:x.id:null}),_&&x&&l.jsx(ih,{trajectory:x,onClose:J,onDelete:()=>{I(x),J()},onMarkComplete:()=>Y(x),onSimulate:()=>X(x)})]})}function fd(e){var n,r,s;const t=((n=e.user_scenario)==null?void 0:n.instructions)||{};return{id:e.id,knownInfo:t.known_info||"",reasonForCall:t.reason_for_call||"",unknownInfo:t.unknown_info||"",taskInstructions:t.task_instructions||"",actionsCount:((s=(r=e.evaluation_criteria)==null?void 0:r.actions)==null?void 0:s.length)||0}}function ah({task:e,isSelected:t,onClick:n,onEdit:r}){const s=fd(e);return l.jsxs("div",{className:`task-card ${t?"selected":""}`,onClick:n,children:[l.jsxs("div",{className:"task-card-header",children:[l.jsxs("span",{className:"task-id",children:["Task #",s.id]}),l.jsxs("span",{className:"task-actions-count",children:[s.actionsCount," actions"]})]}),l.jsxs("div",{className:"task-card-body",children:[l.jsx("p",{className:"task-known-info",children:s.knownInfo}),l.jsxs("p",{className:"task-reason",children:[s.reasonForCall.substring(0,150),"..."]})]}),l.jsx("div",{className:"task-card-footer",children:l.jsx("button",{className:"edit-btn",onClick:i=>{i.stopPropagation(),r(e)},children:"Edit"})})]})}function ch({task:e,onSave:t,onClose:n}){var c,d,y,m;const[r,s]=v.useState(JSON.parse(JSON.stringify(e))),i=((c=r.user_scenario)==null?void 0:c.instructions)||{},o=(h,j)=>{s(x=>{var w;return{...x,user_scenario:{...x.user_scenario,instructions:{...(w=x.user_scenario)==null?void 0:w.instructions,[h]:j}}}})},a=()=>{t(r)};return l.jsx("div",{className:"modal-overlay",onClick:n,children:l.jsxs("div",{className:"modal-content task-edit-modal",onClick:h=>h.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("h2",{children:["Edit Task #",e.id]}),l.jsx("button",{className:"close-btn",onClick:n,children:""})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"User Scenario"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Known Info"}),l.jsx("textarea",{value:i.known_info||"",onChange:h=>o("known_info",h.target.value),placeholder:"What the user knows (e.g., 'You are John Doe with order #123')",rows:2}),l.jsx("span",{className:"field-hint",children:"Information the simulated user starts with"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Reason for Call"}),l.jsx("textarea",{value:i.reason_for_call||"",onChange:h=>o("reason_for_call",h.target.value),placeholder:"Why the user is contacting support",rows:4}),l.jsx("span",{className:"field-hint",children:"The main goal/problem the user wants to solve"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Unknown Info"}),l.jsx("textarea",{value:i.unknown_info||"",onChange:h=>o("unknown_info",h.target.value),placeholder:"What the user doesn't know",rows:2}),l.jsx("span",{className:"field-hint",children:"Information the user should NOT volunteer"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Task Instructions"}),l.jsx("textarea",{value:i.task_instructions||"",onChange:h=>o("task_instructions",h.target.value),placeholder:"Behavioral instructions for the user",rows:2}),l.jsx("span",{className:"field-hint",children:"How the simulated user should behave"})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsxs("h3",{children:["Expected Actions (",((y=(d=r.evaluation_criteria)==null?void 0:d.actions)==null?void 0:y.length)||0,")"]}),l.jsx("div",{className:"actions-preview",children:(((m=r.evaluation_criteria)==null?void 0:m.actions)||[]).map((h,j)=>l.jsxs("div",{className:"action-item",children:[l.jsx("span",{className:"action-name",children:h.name}),l.jsx("code",{className:"action-args",children:JSON.stringify(h.arguments)})]},j))}),l.jsx("p",{className:"section-note",children:"Note: Edit expected actions in the raw JSON view for advanced changes."})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{className:"cancel-btn",onClick:n,children:"Cancel"}),l.jsx("button",{className:"save-btn",onClick:a,children:"Save Changes"})]})]})})}function uh({content:e,onChange:t}){var _,f,u,p,g,N,k,C,S;const[n,r]=v.useState(()=>{try{return JSON.parse(e)}catch{return[]}}),[s,i]=v.useState(null),[o,a]=v.useState(null),[c,d]=v.useState(""),[y,m]=v.useState(!1),h=v.useMemo(()=>{if(!c)return n;const T=c.toLowerCase();return n.filter(E=>{const I=fd(E);return I.id.toString().includes(T)||I.knownInfo.toLowerCase().includes(T)||I.reasonForCall.toLowerCase().includes(T)})},[n,c]),j=n.find(T=>T.id===s),x=T=>{const E=n.map(I=>I.id===T.id?T:I);r(E),t(JSON.stringify(E,null,2)),a(null)},w=T=>{try{const E=JSON.parse(T.target.value);r(E),t(T.target.value)}catch{t(T.target.value)}};return y?l.jsxs("div",{className:"tasks-editor raw-mode",children:[l.jsx("div",{className:"editor-toolbar",children:l.jsx("button",{className:"toggle-view-btn",onClick:()=>m(!1),children:" Back to Card View"})}),l.jsx("textarea",{className:"raw-json-editor",value:e,onChange:w,spellCheck:!1})]}):l.jsxs("div",{className:"tasks-editor",children:[l.jsxs("div",{className:"editor-toolbar",children:[l.jsx("div",{className:"search-box",children:l.jsx("input",{type:"text",placeholder:"Search tasks...",value:c,onChange:T=>d(T.target.value)})}),l.jsxs("span",{className:"task-count",children:[h.length," of ",n.length," tasks"]}),l.jsx("button",{className:"toggle-view-btn",onClick:()=>m(!0),children:"Edit Raw JSON"})]}),l.jsxs("div",{className:"tasks-content",children:[l.jsx("div",{className:"tasks-list",children:h.map(T=>l.jsx(ah,{task:T,isSelected:T.id===s,onClick:()=>i(T.id),onEdit:a},T.id))}),j&&l.jsxs("div",{className:"task-detail",children:[l.jsxs("h3",{children:["Task #",j.id," Details"]}),l.jsxs("div",{className:"detail-section",children:[l.jsx("h4",{children:"User Scenario"}),l.jsxs("div",{className:"detail-field",children:[l.jsx("label",{children:"Known Info:"}),l.jsx("p",{children:((f=(_=j.user_scenario)==null?void 0:_.instructions)==null?void 0:f.known_info)||"-"})]}),l.jsxs("div",{className:"detail-field",children:[l.jsx("label",{children:"Reason for Call:"}),l.jsx("p",{children:((p=(u=j.user_scenario)==null?void 0:u.instructions)==null?void 0:p.reason_for_call)||"-"})]}),l.jsxs("div",{className:"detail-field",children:[l.jsx("label",{children:"Unknown Info:"}),l.jsx("p",{children:((N=(g=j.user_scenario)==null?void 0:g.instructions)==null?void 0:N.unknown_info)||"-"})]}),l.jsxs("div",{className:"detail-field",children:[l.jsx("label",{children:"Task Instructions:"}),l.jsx("p",{children:((C=(k=j.user_scenario)==null?void 0:k.instructions)==null?void 0:C.task_instructions)||"-"})]})]}),l.jsxs("div",{className:"detail-section",children:[l.jsx("h4",{children:"Expected Actions"}),l.jsx("div",{className:"actions-list",children:(((S=j.evaluation_criteria)==null?void 0:S.actions)||[]).map((T,E)=>l.jsxs("div",{className:"action-detail",children:[l.jsx("span",{className:"action-index",children:E+1}),l.jsxs("div",{className:"action-content",children:[l.jsx("span",{className:"action-name",children:T.name}),l.jsx("pre",{className:"action-args",children:JSON.stringify(T.arguments,null,2)})]})]},E))})]}),l.jsx("button",{className:"edit-task-btn",onClick:()=>a(j),children:"Edit Task"})]})]}),o&&l.jsx(ch,{task:o,onSave:x,onClose:()=>a(null)})]})}function Be(e){return e.replace(/_/g," ").replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase()).trim()}function dh(e){const t=e.filter(r=>r!=null&&r!=="");if(t.length===0)return"string";const n=t[0];return typeof n=="boolean"?"boolean":typeof n=="number"?"number":Array.isArray(n)?"array":typeof n=="object"?"object":typeof n=="string"&&/^\d{4}-\d{2}-\d{2}/.test(n)?"date":"string"}function fh(e){if(!e||e.length===0)return[];const t=new Set,n={};e.forEach(o=>{Object.keys(o).forEach(a=>{t.add(a),n[a]||(n[a]=[]),n[a].push(o[a])})});const r=[],s=["id","user_id","product_id","order_id","flight_number","name","email","status"];return Array.from(t).sort((o,a)=>{const c=s.indexOf(o),d=s.indexOf(a);return c!==-1&&d!==-1?c-d:c!==-1?-1:d!==-1?1:o.localeCompare(a)}).forEach(o=>{const a=dh(n[o]),c={key:o,label:Be(o),type:a};a==="array"?c.render=d=>`[${(d||[]).length} items]`:a==="object"?c.render=(d,y)=>d?d.first_name&&d.last_name?`${d.first_name} ${d.last_name}`:d.city?d.city:"{...}":"-":a==="boolean"?c.render=d=>d?"":"":o==="status"&&(c.render=d=>l.jsx("span",{className:`status-badge ${d}`,children:d})),r.push(c)}),r.slice(0,8)}function ph({data:e,columns:t,onRowClick:n,selectedId:r}){const[s,i]=v.useState(null),[o,a]=v.useState("asc"),[c,d]=v.useState(0),y=20,h=v.useMemo(()=>s?[...e].sort((w,_)=>{const f=w[s]||"",u=_[s]||"",p=String(f).localeCompare(String(u));return o==="asc"?p:-p}):e,[e,s,o]).slice(c*y,(c+1)*y),j=Math.ceil(e.length/y),x=w=>{s===w?a(_=>_==="asc"?"desc":"asc"):(i(w),a("asc"))};return l.jsxs("div",{className:"data-table-container",children:[l.jsx("div",{className:"table-scroll",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsx("tr",{children:t.map(w=>l.jsxs("th",{onClick:()=>x(w.key),children:[w.label,s===w.key&&l.jsx("span",{className:"sort-indicator",children:o==="asc"?" ":" "})]},w.key))})}),l.jsx("tbody",{children:h.map((w,_)=>l.jsx("tr",{className:r===w.id?"selected":"",onClick:()=>n==null?void 0:n(w),children:t.map(f=>l.jsx("td",{children:f.render?f.render(w[f.key],w):String(w[f.key]??"-")},f.key))},w.id||_))})]})}),j>1&&l.jsxs("div",{className:"table-pagination",children:[l.jsx("button",{disabled:c===0,onClick:()=>d(w=>w-1),children:"Previous"}),l.jsxs("span",{children:["Page ",c+1," of ",j]}),l.jsx("button",{disabled:c>=j-1,onClick:()=>d(w=>w+1),children:"Next"})]})]})}function hh({record:e,type:t,onClose:n,onSave:r}){const[s,i]=v.useState(JSON.parse(JSON.stringify(e))),o=(m,h,j=[])=>{const x=[...j,m],w=_=>{i(f=>{const u=JSON.parse(JSON.stringify(f));let p=u;for(let g=0;g<j.length;g++)p=p[j[g]];return p[m]=_,u})};if(m==="id"&&j.length===0)return null;if(h==null)return l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:Be(m)}),l.jsx("input",{value:"",onChange:_=>w(_.target.value),placeholder:"(empty)"})]},x.join("."));if(typeof h=="boolean")return l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:Be(m)}),l.jsxs("select",{value:h.toString(),onChange:_=>w(_.target.value==="true"),children:[l.jsx("option",{value:"true",children:"Yes"}),l.jsx("option",{value:"false",children:"No"})]})]},x.join("."));if(typeof h=="number")return l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:Be(m)}),l.jsx("input",{type:"number",value:h,onChange:_=>w(parseFloat(_.target.value)||0)})]},x.join("."));if(typeof h=="string")return h.length>100?l.jsxs("div",{className:"form-group full-width",children:[l.jsx("label",{children:Be(m)}),l.jsx("textarea",{value:h,onChange:_=>w(_.target.value),rows:3})]},x.join(".")):l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:Be(m)}),l.jsx("input",{value:h,onChange:_=>w(_.target.value)})]},x.join("."));if(Array.isArray(h))return l.jsxs("div",{className:"form-section",children:[l.jsxs("div",{className:"form-section-title",children:[Be(m)," (",h.length," items)"]}),l.jsxs("div",{className:"nested-data",children:[h.slice(0,10).map((_,f)=>l.jsx("div",{className:"nested-item",children:typeof _=="object"?l.jsx("div",{className:"nested-object-preview",children:Object.entries(_).slice(0,4).map(([u,p])=>l.jsxs("span",{className:"nested-field",children:[l.jsxs("span",{className:"nested-label",children:[Be(u),":"]}),l.jsx("span",{className:"nested-value",children:typeof p=="object"?"{...}":String(p)})]},u))}):l.jsx("span",{className:"nested-value",children:String(_)})},f)),h.length>10&&l.jsxs("p",{className:"more-items",children:["...and ",h.length-10," more items"]})]})]},x.join("."));if(typeof h=="object"){const _=Object.entries(h);return _.length<=4&&_.every(([,f])=>typeof f!="object")?l.jsxs("div",{className:"form-section",children:[l.jsx("div",{className:"form-section-title",children:Be(m)}),l.jsx("div",{className:"form-row",children:_.map(([f,u])=>o(f,u,x))})]},x.join(".")):l.jsxs("div",{className:"form-section",children:[l.jsxs("div",{className:"form-section-title",children:[Be(m)," (",_.length," fields)"]}),l.jsxs("div",{className:"nested-data",children:[_.slice(0,10).map(([f,u])=>l.jsxs("div",{className:"nested-item",children:[l.jsxs("span",{className:"nested-label",children:[Be(f),":"]}),l.jsx("span",{className:"nested-value",children:typeof u=="object"?Array.isArray(u)?`[${u.length} items]`:"{...}":String(u)})]},f)),_.length>10&&l.jsxs("p",{className:"more-items",children:["...and ",_.length-10," more fields"]})]})]},x.join("."))}return null},a=()=>{if(e.name)return typeof e.name=="object"?`${e.name.first_name||""} ${e.name.last_name||""}`.trim():e.name;const m=["user_id","product_id","order_id","flight_number","id","reservation_id"];for(const h of m)if(e[h])return e[h];return"Record"},c=Object.entries(s).filter(([m])=>m!=="id"),d=c.filter(([,m])=>m==null||typeof m!="object"),y=c.filter(([,m])=>m!=null&&typeof m=="object");return l.jsxs("div",{className:"record-detail-panel",children:[l.jsxs("div",{className:"panel-header",children:[l.jsxs("h3",{children:[Be(t.replace(/s$/,"")),": ",a()]}),l.jsx("button",{className:"close-btn",onClick:n,children:""})]}),l.jsxs("div",{className:"panel-body",children:[d.length>0&&l.jsx("div",{className:"form-row flex-wrap",children:d.map(([m,h])=>o(m,h))}),y.map(([m,h])=>o(m,h))]}),l.jsxs("div",{className:"panel-footer",children:[l.jsx("button",{className:"cancel-btn",onClick:n,children:"Close"}),l.jsx("button",{className:"save-btn",onClick:()=>r(s),children:"Save Changes"})]})]})}function mh({content:e,onChange:t}){const[n,r]=v.useState(()=>{try{return JSON.parse(e)}catch{return{}}}),s=v.useMemo(()=>Object.keys(n).filter(u=>typeof n[u]=="object"&&n[u]!==null&&!Array.isArray(n[u])).map(u=>({id:u,label:Be(u)})),[n]),[i,o]=v.useState(()=>{var u;return((u=s[0])==null?void 0:u.id)||""}),[a,c]=v.useState(""),[d,y]=v.useState(null),[m,h]=v.useState(!1);v.useMemo(()=>{s.length>0&&!s.find(u=>u.id===i)&&o(s[0].id)},[s,i]);const j=u=>{const p=n[u]||{};return Array.isArray(p)?p.map((g,N)=>({id:N,...g})):Object.entries(p).map(([g,N])=>({id:g,...typeof N=="object"?N:{value:N}}))},x=v.useMemo(()=>{const u=j(i);if(!a)return u;const p=a.toLowerCase();return u.filter(g=>JSON.stringify(g).toLowerCase().includes(p))},[n,i,a]),w=v.useMemo(()=>fh(x),[x]),_=u=>{const p=["user_id","product_id","order_id","flight_number","reservation_id","id"];let g=u.id;for(const C of p)if(u[C]){g=u[C];break}const N={...u};delete N.id;const k={...n,[i]:{...n[i],[g]:N}};r(k),t(JSON.stringify(k,null,2)),y(null)},f=u=>{try{const p=JSON.parse(u.target.value);r(p),t(u.target.value)}catch{t(u.target.value)}};return m?l.jsxs("div",{className:"database-editor raw-mode",children:[l.jsx("div",{className:"editor-toolbar",children:l.jsx("button",{className:"toggle-view-btn",onClick:()=>h(!1),children:" Back to Table View"})}),l.jsx("textarea",{className:"raw-json-editor",value:e,onChange:f,spellCheck:!1})]}):s.length===0?l.jsxs("div",{className:"database-editor",children:[l.jsx("div",{className:"editor-toolbar",children:l.jsx("div",{className:"toolbar-right",children:l.jsx("button",{className:"toggle-view-btn",onClick:()=>h(!0),children:"Edit Raw JSON"})})}),l.jsxs("div",{className:"empty-state",children:[l.jsx("p",{children:"No collections found in this database."}),l.jsx("p",{children:'Click "Edit Raw JSON" to add data.'})]})]}):l.jsxs("div",{className:"database-editor",children:[l.jsxs("div",{className:"editor-toolbar",children:[l.jsx("div",{className:"tabs",children:s.map(u=>l.jsxs("button",{className:`tab ${i===u.id?"active":""}`,onClick:()=>{o(u.id),y(null),c("")},children:[l.jsx("span",{className:"tab-label",children:u.label}),l.jsx("span",{className:"tab-count",children:Object.keys(n[u.id]||{}).length})]},u.id))}),l.jsxs("div",{className:"toolbar-right",children:[l.jsx("div",{className:"search-box",children:l.jsx("input",{type:"text",placeholder:`Search ${i}...`,value:a,onChange:u=>c(u.target.value)})}),l.jsx("button",{className:"toggle-view-btn",onClick:()=>h(!0),children:"Edit Raw JSON"})]})]}),l.jsxs("div",{className:"database-content",children:[l.jsx("div",{className:`table-area ${d?"with-detail":""}`,children:l.jsx(ph,{data:x,columns:w,onRowClick:y,selectedId:d==null?void 0:d.id})}),d&&l.jsx(hh,{record:d,type:i,onClose:()=>y(null),onSave:_})]})]})}const Xn={"db.json":{id:"database",icon:"",title:"Database",description:"Users, products, orders, and other domain data that the agent can access and modify",color:"#22c55e",tooltip:"This JSON file contains all the simulated data for your environment - customer accounts, orders, products, inventory, etc. The agent can read and modify this data using tools. Changes here affect what data is available during simulations."},"tasks.json":{id:"tasks",icon:"",title:"Tasks & Scenarios",description:"Test scenarios with user instructions, expected actions, and evaluation criteria",color:"#f59e0b",tooltip:"Define test scenarios that simulate customer interactions. Each task includes: user persona/instructions (what the simulated customer wants), expected agent actions (what a correct agent should do), and optional reward criteria for evaluating agent performance."},"policy.md":{id:"policy",icon:"",title:"Agent Policy",description:"Rules and guidelines that define how the agent should behave and make decisions",color:"#6366f1",tooltip:'The main policy document that tells the agent how to handle customer requests. Includes: business rules, authentication requirements, refund/exchange policies, escalation procedures, and compliance guidelines. This is the "source of truth" for agent behavior.'},"agent_guidelines.md":{id:"agent",icon:"",title:"Agent Behavior",description:"Detailed instructions for agent responses, tone, and interaction patterns",color:"#8b5cf6",tooltip:"Supplementary guidelines that shape HOW the agent communicates - tone of voice, response structure, greeting/closing phrases, how to handle frustrated customers, when to show empathy, etc. Works alongside the policy to create a consistent agent personality."},"user_guidelines.md":{id:"user",icon:"",title:"User Simulation",description:"Guidelines for how simulated users should behave and respond during testing",color:"#ec4899",tooltip:"Instructions for the AI that simulates customers during testing. Controls how realistic/difficult the simulated customer is - do they provide information upfront or make the agent ask? How patient are they? Do they follow instructions? Affects testing realism."},"tools.py":{id:"tools",icon:"",title:"Tools & Actions",description:"Python implementations of tools and actions available to the agent",color:"#06b6d4",tooltip:"Python code defining what actions the agent can take - looking up orders, processing refunds, checking inventory, etc. Each tool has a name, description, parameters, and implementation. Adding new tools here expands what the agent can do."},"approval_guidelines.md":{id:"approval",icon:"",title:"Auto Approval Guidelines",description:"Additional criteria for the Policy AI to evaluate agent actions for auto-approval",color:"#10b981",tooltip:"Optional guidelines for the Auto-Approve feature. Defines which agent actions can be automatically approved (low-risk), which need human review (high-risk), and specific red flags to watch for. Used by gpt-5.2 when Auto-Approve is enabled during simulations.",optional:!0}},vh=["db.json","tasks.json","policy.md","agent_guidelines.md","user_guidelines.md","tools.py","approval_guidelines.md"],gh=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(""),[s,i]=v.useState([]),[o,a]=v.useState(null),[c,d]=v.useState(""),[y,m]=v.useState(""),[h,j]=v.useState(!1),[x,w]=v.useState(!1),[_,f]=v.useState(null),[u,p]=v.useState(null),[g,N]=v.useState(null),[k,C]=v.useState(""),[S,T]=v.useState(!1),[E,I]=v.useState(null),[Y,J]=v.useState(null),X=async()=>{try{const W=(await Gs()).map(U=>U.name);return t(W),W}catch(A){return f("Failed to load environments"),console.error(A),[]}};v.useEffect(()=>{(async()=>{const W=await X();W.length>0&&!n&&r(W[0])})()},[]),v.useEffect(()=>{n&&Z()},[n]);const Z=async()=>{j(!0),f(null);try{const A=await sd(n);i(A.files||[]),a(null),d(""),m("")}catch(A){f("Failed to load environment configuration"),console.error(A)}finally{j(!1)}},O=async A=>{var tt;const W=s.find(ee=>ee.name===A),U=Xn[A];if(!W&&(U!=null&&U.optional)){const ee=M(A);d(ee),m(""),a({name:A,editable:!0,isNew:!0,...U});return}if(W){j(!0),f(null),p(null);try{const ee=await ld(n,A),q=typeof ee.content=="string"?ee.content:JSON.stringify(ee.content,null,2);d(q),m(q),a({...W,...Xn[A]})}catch(ee){f(`Failed to load ${((tt=Xn[A])==null?void 0:tt.title)||A}`),console.error(ee)}finally{j(!1)}}},M=A=>A==="approval_guidelines.md"?`# Approval Guidelines for ${n}

These are additional guidelines for the Policy AI (gpt-5.2) to evaluate agent actions for auto-approval.

## High-Risk Actions (Require Extra Scrutiny)

1. **[Category 1]**
   - [Add specific rules]

2. **[Category 2]**
   - [Add specific rules]

## Auto-Approve Criteria

The following actions can be auto-approved with high confidence:
- [Add safe actions here]

## Red Flags (Always Flag for Human Review)

- [Add red flags that should always require human review]
`:"",P=async()=>{if(o){w(!0),f(null),p(null);try{await id(n,o.name,c),m(c),o.isNew?(await Z(),a(A=>({...A,isNew:!1})),p(`${o.title} created successfully!`)):p(`${o.title} saved successfully!`),setTimeout(()=>p(null),3e3)}catch(A){f(`Failed to save: ${A.message}`),console.error(A)}finally{w(!1)}}},L=c!==y,$=()=>{C(n+"_copy"),I(null),N("duplicate")},b=()=>{C(n),I(null),N("rename")},B=()=>{N(null),C(""),I(null)},ae=async()=>{if(!k.trim()){I("Please enter a name");return}const A=k.trim();T(!0),I(null);try{await od(n,A),(await X()).includes(A)&&r(A),p(`Environment duplicated to '${A}'`),setTimeout(()=>p(null),3e3),B()}catch(W){I(W.message)}finally{T(!1)}},K=async()=>{if(!k.trim()){I("Please enter a name");return}const A=k.trim();if(A===n){I("New name must be different");return}T(!0),I(null);try{await ad(n,A),(await X()).includes(A)&&r(A),p(`Environment renamed to '${A}'`),setTimeout(()=>p(null),3e3),B()}catch(W){I(W.message)}finally{T(!1)}},ne=()=>{I(null),N("delete")},H=async()=>{T(!0),I(null);try{await cd(n);const A=await X();A.length>0&&r(A[0]),p(`Environment '${n}' deleted`),setTimeout(()=>p(null),3e3),B()}catch(A){I(A.message)}finally{T(!1)}},ve=e.length>1,ht=()=>vh.filter(A=>{const W=Xn[A];return s.some(tt=>tt.name===A)||(W==null?void 0:W.optional)}).map(A=>{const W=s.find(U=>U.name===A);return{fileName:A,file:W,config:Xn[A]}}),_t=()=>o?h?l.jsx("div",{className:"loading",children:"Loading..."}):o.name==="tasks.json"?l.jsx(uh,{content:c,onChange:d,onSave:P,saving:x,hasChanges:L}):o.name==="db.json"?l.jsx(mh,{content:c,onChange:d,onSave:P,saving:x,hasChanges:L}):l.jsxs("div",{className:"text-editor",children:[o.isNew&&l.jsxs("div",{className:"new-file-banner",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"This file doesn't exist yet. Edit the template below and save to create it."})]}),l.jsx("textarea",{value:c,onChange:A=>d(A.target.value),disabled:!o.editable,spellCheck:o.name.endsWith(".md"),placeholder:`Enter ${o.title.toLowerCase()} content...`}),l.jsxs("div",{className:"editor-actions",children:[l.jsx("button",{className:`save-btn ${o.isNew?"create-btn":""}`,onClick:P,disabled:!L&&!o.isNew||x||!o.editable,children:x?"Saving...":o.isNew?" Create File":"Save Changes"}),l.jsx("button",{className:"reset-btn",onClick:()=>d(y||M(o.name)),disabled:!L&&!o.isNew,children:"Reset"})]})]}):l.jsx("div",{className:"no-section-selected",children:l.jsxs("div",{className:"welcome-content",children:[l.jsx("span",{className:"welcome-icon",children:""}),l.jsx("h2",{children:"Configure Your Environment"}),l.jsx("p",{children:"Select a configuration section from the left to view and edit its contents."}),l.jsx("div",{className:"section-hints",children:ht().slice(0,3).map(({config:A})=>l.jsxs("div",{className:"hint-item",children:[l.jsx("span",{className:"hint-icon",children:A.icon}),l.jsx("span",{className:"hint-text",children:A.title})]},A.id))})]})});return l.jsxs("div",{className:"environments-page",children:[l.jsx("div",{className:"page-header",children:l.jsxs("div",{className:"header-content",children:[l.jsxs("div",{className:"header-title",children:[l.jsx("h1",{children:"Environment Configuration"}),l.jsx("p",{children:"Configure simulation environments for testing agent behaviors"})]}),l.jsxs("div",{className:"env-selector-inline",children:[l.jsx("select",{value:n,onChange:A=>r(A.target.value),children:e.map(A=>l.jsx("option",{value:A,children:A},A))}),l.jsx("button",{className:"header-action-btn",onClick:$,title:"Duplicate environment",children:""}),l.jsx("button",{className:"header-action-btn",onClick:b,title:"Rename environment",children:""}),l.jsx("button",{className:"header-action-btn delete-btn",onClick:ne,title:ve?"Delete environment":"Cannot delete the last environment",disabled:!ve,children:""})]})]})}),_&&l.jsxs("div",{className:"error-banner",children:[_,l.jsx("button",{onClick:()=>f(null),children:""})]}),u&&l.jsx("div",{className:"success-banner",children:u}),l.jsxs("div",{className:"environments-content",children:[l.jsx("div",{className:"config-sidebar",children:l.jsx("div",{className:"sections-list",children:h&&!o?l.jsx("div",{className:"loading",children:"Loading..."}):ht().map(({fileName:A,file:W,config:U})=>l.jsxs("div",{className:`section-item ${(o==null?void 0:o.name)===A?"selected":""} ${U.optional&&!W?"optional-missing":""}`,onClick:()=>O(A),style:{"--section-color":U.color},children:[l.jsx("div",{className:"section-icon-wrapper",children:l.jsx("span",{className:"section-icon",children:U.icon})}),l.jsxs("div",{className:"section-info",children:[l.jsxs("span",{className:"section-title",children:[U.title,U.optional&&!W&&l.jsx("span",{className:"optional-badge",children:"Optional"})]}),l.jsx("span",{className:"section-desc",children:U.description})]}),l.jsxs("div",{className:"info-btn-wrapper",onMouseEnter:()=>J(A),onMouseLeave:()=>J(null),children:[l.jsx("span",{className:"info-btn",children:""}),Y===A&&l.jsxs("div",{className:"section-tooltip",children:[l.jsx("div",{className:"tooltip-header",children:l.jsxs("span",{children:[U.icon," ",U.title]})}),l.jsx("p",{children:U.tooltip}),U.optional&&l.jsxs("p",{className:"tooltip-optional",children:[l.jsx("strong",{children:"Note:"})," This file is optional. If not present, default behavior will be used."]})]})]}),(o==null?void 0:o.name)===A&&L&&l.jsx("span",{className:"unsaved-dot",title:"Unsaved changes",children:""})]},A))})}),l.jsxs("div",{className:"editor-panel",children:[o&&l.jsxs("div",{className:"editor-header",style:{"--section-color":o.color},children:[l.jsx("div",{className:"editor-header-icon",children:o.icon}),l.jsxs("div",{className:"editor-header-info",children:[l.jsxs("h2",{children:[o.title,L&&l.jsx("span",{className:"unsaved-indicator",children:""})]}),l.jsx("span",{className:"editor-header-desc",children:o.description})]})]}),l.jsx("div",{className:"editor-content",children:_t()})]})]}),(g==="duplicate"||g==="rename")&&l.jsx("div",{className:"modal-overlay",onClick:B,children:l.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:g==="duplicate"?"Duplicate Environment":"Rename Environment"}),l.jsx("button",{className:"modal-close",onClick:B,children:""})]}),l.jsxs("div",{className:"modal-body",children:[g==="duplicate"?l.jsxs("p",{children:["Create a copy of ",l.jsx("strong",{children:n})," with a new name:"]}):l.jsxs("p",{children:["Enter a new name for ",l.jsx("strong",{children:n}),":"]}),l.jsx("input",{type:"text",value:k,onChange:A=>C(A.target.value),placeholder:"Enter new environment name",autoFocus:!0,onKeyDown:A=>{A.key==="Enter"?g==="duplicate"?ae():K():A.key==="Escape"&&B()}}),E&&l.jsx("div",{className:"modal-error",children:E})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{className:"modal-btn cancel",onClick:B,disabled:S,children:"Cancel"}),l.jsx("button",{className:"modal-btn primary",onClick:g==="duplicate"?ae:K,disabled:S||!k.trim(),children:S?"Processing...":g==="duplicate"?"Duplicate":"Rename"})]})]})}),g==="delete"&&l.jsx("div",{className:"modal-overlay",onClick:B,children:l.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:"Delete Environment"}),l.jsx("button",{className:"modal-close",onClick:B,children:""})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("p",{children:["Are you sure you want to delete ",l.jsx("strong",{children:n}),"?"]}),l.jsx("p",{className:"delete-warning",children:" This action cannot be undone. All configuration files in this environment will be permanently removed."}),E&&l.jsx("div",{className:"modal-error",children:E})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{className:"modal-btn cancel",onClick:B,disabled:S,children:"Cancel"}),l.jsx("button",{className:"modal-btn danger",onClick:H,disabled:S,children:S?"Deleting...":"Delete"})]})]})})]})},yh="modulepreload",xh=function(e){return"/"+e},Ia={},jh=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=xh(c),c in Ia)return;Ia[c]=!0;const d=c.endsWith(".css"),y=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${y}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":yh,d||(m.as="script"),m.crossOrigin="",m.href=c,a&&m.setAttribute("nonce",a),document.head.appendChild(m),d)return new Promise((h,j)=>{m.addEventListener("load",h),m.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};function wh({onNewSession:e,approvalLogCount:t=0,onViewApprovalLogs:n}){const{sessionId:r,isSimulationActive:s,messages:i,isAutopilotEnabled:o,setIsAutopilotEnabled:a,isAutoApproveEnabled:c,setIsAutoApproveEnabled:d,autopilotTurnCount:y,setAutopilotTurnCount:m,AUTOPILOT_TURN_LIMIT:h,trajectoryId:j,isAutoSaving:x,lastSaveTime:w}=bn(),{showToast:_}=Bn(),[f,u]=v.useState(null),[p,g]=v.useState(!1);v.useEffect(()=>{async function E(){try{const I=await Zu();u(I.backend)}catch(I){console.error("Failed to check trajectory storage status:",I),u("local")}g(!0)}E()},[]);const N=()=>s?"active":"inactive",k=()=>s?"Active":"Inactive",C=()=>x?{icon:"",text:"Saving...",className:"saving"}:j&&w?{icon:"",text:`Saved ${S(w)}`,className:"saved"}:r&&i.length>0?{icon:"",text:"Unsaved",className:"unsaved"}:null,S=E=>{const I=Math.floor((new Date-E)/1e3);if(I<60)return"just now";const Y=Math.floor(I/60);return Y<60?`${Y}m ago`:`${Math.floor(Y/60)}h ago`},T=C();return l.jsxs("div",{className:"chat-header",children:[l.jsxs("div",{className:"chat-header-left",children:[l.jsxs("h3",{children:[" ",l.jsx("span",{className:"header-title-text",children:"Conversation"})]}),l.jsx("span",{className:`status-badge ${N()}`,children:k()})]}),l.jsxs("div",{className:"chat-header-right",children:[p&&T&&l.jsxs("span",{className:`auto-save-status ${T.className}`,title:j?`Trajectory ID: ${j}`:"Auto-save is enabled",children:[l.jsx("span",{className:"save-icon",children:T.icon}),l.jsx("span",{className:"save-text",children:T.text})]}),l.jsxs("div",{className:"autopilot-toggle",title:"When enabled, automatically triggers 'Auto' after each user/tool response",children:[l.jsx("span",{className:"autopilot-label",children:""}),l.jsx("span",{className:"autopilot-label-text",children:"Autopilot"}),l.jsxs("label",{className:"toggle-switch",children:[l.jsx("input",{type:"checkbox",checked:o,onChange:E=>{a(E.target.checked),E.target.checked&&m(0)}}),l.jsx("span",{className:"toggle-slider"})]}),o&&l.jsxs("span",{className:`turn-counter ${y>=h*.8?"warning":""}`,title:`Autopilot turns: ${y}/${h}`,children:[y,"/",h]})]}),l.jsxs("div",{className:`auto-approve-toggle ${o?"":"disabled"}`,title:o?"When enabled, Policy AI auto-approves compliant actions. Uncertain actions require human review.":"Enable Autopilot first to use Auto-Approve",children:[l.jsx("span",{className:"auto-approve-label",children:""}),l.jsx("span",{className:"auto-approve-label-text",children:"Auto-Approve"}),l.jsxs("label",{className:"toggle-switch",children:[l.jsx("input",{type:"checkbox",checked:c,onChange:E=>d(E.target.checked),disabled:!o}),l.jsx("span",{className:"toggle-slider"})]}),c&&t>0&&l.jsxs("button",{className:"approval-log-btn",onClick:n,title:"View approval AI logs",children:[" ",t]})]}),l.jsxs("button",{className:"btn btn-header btn-new-trajectory",onClick:e,title:"Start a new trajectory",children:[l.jsx("span",{className:"btn-icon",children:""}),l.jsx("span",{className:"btn-text",children:"New Trajectory"})]})]})]})}function Nh({content:e}){return l.jsxs("div",{className:"sticky-user-message visible",children:[l.jsx("div",{className:"sticky-label",children:" User Persona:"}),l.jsx("div",{className:"sticky-content",children:e})]})}function kh({content:e}){const[t,n]=v.useState(!1),{parsed:r,isJson:s}=v.useMemo(()=>{try{return{parsed:JSON.parse(e),isJson:!0}}catch{return{parsed:null,isJson:!1}}},[e]);if(!s)return l.jsx("div",{className:"tool-result-raw",children:e});const i=a=>typeof a=="boolean"?a?"success":"error":a===null?"error":"",o=a=>typeof a=="boolean"?a?" true":" false":typeof a=="object"&&a!==null?JSON.stringify(a,null,2):a===null?"null":String(a);return l.jsxs("div",{className:"tool-result-container",children:[l.jsx("div",{className:"tool-result-formatted",children:Object.entries(r).map(([a,c])=>l.jsxs("div",{className:"tool-result-item",children:[l.jsxs("span",{className:"tool-result-key",children:[a,":"]}),l.jsx("span",{className:`tool-result-value ${i(c)}`,children:o(c)})]},a))}),l.jsx("div",{className:"tool-result-toggle",onClick:()=>n(!t),children:t?" Hide raw JSON":" Show raw JSON"}),t&&l.jsx("div",{className:"tool-result-raw",children:JSON.stringify(r,null,2)})]})}const Sh={user:"",agent:"",tool:"","tool-result":"",reasoning:"",rejected:""},Ch={user:"User",agent:"Agent (You)",tool:"Tool Call","tool-result":"Tool Result",reasoning:"Agent Reasoning",rejected:"Rejected"};function _h({role:e,content:t,reasoning:n,rejected:r,isTemporary:s,messageIndex:i,messageId:o,onRollback:a,onRegenerateUser:c,onRemoveRejected:d,isSimulationActive:y}){const[m,h]=v.useState(!1),[j,x]=v.useState(!1),w=()=>{h(k=>!k)},_=()=>{x(k=>!k)},f=y&&(e==="agent"||e==="tool")&&a&&i!==void 0,u=y&&e==="user"&&c&&i!==void 0,p=e==="rejected",g=p&&d&&o,N=r!=null&&r.tool_name?"Tool Call":"Response";return l.jsxs("div",{className:`message ${e} ${s?"temporary":""}`,children:[l.jsxs("div",{className:"message-header",children:[l.jsx("span",{className:"message-icon",children:Sh[e]}),l.jsx("span",{className:"message-role",children:Ch[e]}),n&&l.jsxs("button",{className:`reasoning-toggle ${m?"active":""}`,onClick:w,title:m?"Hide reasoning":"Show reasoning",children:[" ",m?"Hide":"Show"," Reasoning"]}),p&&r&&l.jsxs("button",{className:`reasoning-toggle ${j?"active":""}`,onClick:_,title:j?"Hide details":"Show details",children:[" ",j?"Hide":"Show"," Details"]}),l.jsxs("div",{className:"message-actions",children:[u&&l.jsx("button",{className:"message-action-btn refresh-btn",onClick:()=>c(i),title:"Regenerate this user response with additional guidance",children:""}),f&&l.jsx("button",{className:"message-action-btn rollback-btn",onClick:()=>a(i),title:"Rollback conversation to before this message",children:""}),g&&l.jsx("button",{className:"message-action-btn remove-btn",onClick:()=>d(o),title:"Remove this rejected action from trajectory",children:""})]})]}),n&&m&&l.jsxs("div",{className:"message-reasoning",children:[l.jsx("div",{className:"reasoning-label",children:" Agent Reasoning"}),l.jsx("div",{className:"reasoning-content",children:n})]}),p&&r&&j&&l.jsxs("div",{className:"rejected-details-panel",children:[l.jsxs("div",{className:"rejected-type-label",children:["Type: ",N]}),r.reasoning&&l.jsxs("div",{className:"rejected-detail-section",children:[l.jsx("div",{className:"rejected-detail-label",children:" Reasoning:"}),l.jsx("div",{className:"rejected-detail-content reasoning",children:r.reasoning})]}),r.content&&l.jsxs("div",{className:"rejected-detail-section",children:[l.jsx("div",{className:"rejected-detail-label",children:" Response:"}),l.jsx("div",{className:"rejected-detail-content",children:r.content})]}),r.tool_name&&l.jsxs("div",{className:"rejected-detail-section",children:[l.jsx("div",{className:"rejected-detail-label",children:" Tool:"}),l.jsx("div",{className:"rejected-detail-content code",children:r.tool_name})]}),r.tool_arguments&&l.jsxs("div",{className:"rejected-detail-section",children:[l.jsx("div",{className:"rejected-detail-label",children:"Arguments:"}),l.jsx("div",{className:"rejected-detail-content code",children:JSON.stringify(r.tool_arguments,null,2)})]})]}),l.jsx("div",{className:"message-content",children:e==="tool-result"?l.jsx(kh,{content:t}):p?l.jsxs("span",{className:"rejected-summary",children:["Rejected ",N,!j&&l.jsx("span",{className:"hint",children:' (click "Show Details" to see more)'})]}):t})]})}function Eh({messages:e,onRollback:t,onRegenerateUser:n,onRemoveRejected:r,isSimulationActive:s,isConversationEnded:i,onNewSession:o}){var y;const a=[...e].reverse().find(m=>m.role==="user"),c=a&&((y=a.content)==null?void 0:y.includes("###STOP###")),d=e.length>0&&(i||c);return l.jsxs("div",{className:"message-list",children:[e.map((m,h)=>l.jsx(_h,{role:m.role,content:m.content,reasoning:m.reasoning,rejected:m.rejected,isTemporary:m.isTemporary,messageIndex:h,messageId:m.id,onRollback:t,onRegenerateUser:n,onRemoveRejected:r,isSimulationActive:s},m.id)),d&&l.jsxs("div",{className:"conversation-ended",children:[l.jsxs("div",{className:"conversation-ended-message",children:[l.jsx("span",{className:"ended-icon",children:""}),l.jsx("span",{className:"ended-text",children:"Conversation has ended"})]}),o&&l.jsx("button",{className:"btn btn-new-trajectory",onClick:o,children:" Start New Trajectory"})]})]})}function Th({onSend:e,onAutoGenerate:t,disabled:n}){const[r,s]=v.useState(""),i=a=>{a.preventDefault(),!n&&(r.trim()?(e(r.trim()),s("")):t())},o=a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),i(a))};return l.jsx("div",{className:"chat-input",children:l.jsxs("form",{className:"input-container",onSubmit:i,children:[l.jsx("input",{type:"text",value:r,onChange:a=>s(a.target.value),onKeyPress:o,placeholder:"Describe action or leave empty for auto...",disabled:n}),l.jsxs("button",{type:"submit",className:"btn btn-auto",disabled:n,title:r.trim()?"Generate action from your description":"Auto-generate action based on wiki/policy",children:[" ",l.jsx("span",{className:"btn-text",children:r.trim()?"Go":"Auto"})]})]})})}function Ph({action:e,onApprove:t,onReject:n}){const r=()=>e.action_type==="respond"?" Suggested Response":" Suggested Tool Call";return l.jsxs("div",{className:"action-suggestion pending",children:[l.jsx("div",{className:"action-suggestion-header",children:l.jsx("h4",{children:r()})}),l.jsxs("div",{className:"action-suggestion-body",children:[e.reasoning&&l.jsxs("div",{className:"action-suggestion-section",children:[l.jsx("div",{className:"action-suggestion-label reasoning",children:" Reasoning"}),l.jsx("div",{className:"action-suggestion-content reasoning",children:e.reasoning})]}),e.action_type==="respond"?l.jsxs("div",{className:"action-suggestion-section",children:[l.jsx("div",{className:"action-suggestion-label response",children:"Response to User"}),l.jsx("div",{className:"action-suggestion-content",children:e.content})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"action-suggestion-section",children:[l.jsx("div",{className:"action-suggestion-label tool",children:" Tool Name"}),l.jsx("div",{className:"action-suggestion-content tool-name",children:e.tool_name})]}),l.jsxs("div",{className:"action-suggestion-section",children:[l.jsx("div",{className:"action-suggestion-label tool",children:"Arguments"}),l.jsx("div",{className:"action-suggestion-content code",children:JSON.stringify(e.arguments,null,2)})]})]})]}),l.jsxs("div",{className:"action-suggestion-buttons",children:[l.jsx("button",{className:"btn btn-reject",onClick:n,children:" Reject"}),l.jsx("button",{className:"btn btn-approve",onClick:t,children:" Approve & Execute"})]})]})}function Rh({text:e="Processing"}){return l.jsxs("div",{className:"loading-message",children:[l.jsx("div",{className:"loading-spinner"}),l.jsxs("span",{className:"loading-text",children:[e,l.jsx("span",{className:"loading-dots"})]})]})}function Ah({rejectedMessage:e,onConfirm:t,onCancel:n}){const[r,s]=v.useState(""),i=c=>{c.target===c.currentTarget&&n()},o=()=>{t(r.trim()||null)},a=c=>{c.key==="Enter"&&c.ctrlKey?o():c.key==="Escape"&&n()};return l.jsx("div",{className:"regenerate-overlay",onClick:i,children:l.jsxs("div",{className:"regenerate-dialog",children:[l.jsx("h3",{children:" Regenerate User Response"}),l.jsxs("div",{className:"rejected-action-preview",children:[l.jsx("div",{className:"rejected-label",children:"Current User Message:"}),l.jsx("div",{className:"rejected-section",children:l.jsx("div",{className:"section-content",children:e})})]}),l.jsxs("div",{className:"feedback-section",children:[l.jsx("label",{htmlFor:"feedback-input",children:"What should be different? (optional)"}),l.jsx("textarea",{id:"feedback-input",className:"feedback-input",placeholder:"e.g., 'be more frustrated', 'ask about a different issue', 'be more polite', etc.",value:r,onChange:c=>s(c.target.value),onKeyDown:a,rows:3,autoFocus:!0}),l.jsx("span",{className:"hint",children:"Press Ctrl+Enter to regenerate"})]}),l.jsxs("div",{className:"regenerate-dialog-buttons",children:[l.jsx("button",{className:"btn btn-secondary",onClick:n,children:"Cancel"}),l.jsx("button",{className:"btn btn-primary",onClick:o,children:" Regenerate"})]})]})})}function Lh({rejectedAction:e,onConfirm:t,onCancel:n}){const[r,s]=v.useState(""),i=d=>{d.target===d.currentTarget&&n()},o=()=>{t(r.trim()||null)},a=d=>{d.key==="Enter"&&d.ctrlKey?o():d.key==="Escape"&&n()},c=(e==null?void 0:e.action_type)==="tool_call";return l.jsx("div",{className:"regenerate-overlay",onClick:i,children:l.jsxs("div",{className:"regenerate-dialog",children:[l.jsx("h3",{children:" Regenerate Response"}),l.jsxs("div",{className:"rejected-action-preview",children:[l.jsxs("div",{className:"rejected-label",children:["Rejected ",c?"Tool Call":"Response",":"]}),(e==null?void 0:e.reasoning)&&l.jsxs("div",{className:"rejected-section",children:[l.jsx("span",{className:"section-label",children:" Reasoning:"}),l.jsx("div",{className:"section-content reasoning",children:e.reasoning})]}),c?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"rejected-section",children:[l.jsx("span",{className:"section-label",children:" Tool:"}),l.jsx("div",{className:"section-content tool-name",children:e.tool_name})]}),l.jsxs("div",{className:"rejected-section",children:[l.jsx("span",{className:"section-label",children:"Arguments:"}),l.jsx("div",{className:"section-content code",children:JSON.stringify(e.arguments,null,2)})]})]}):l.jsxs("div",{className:"rejected-section",children:[l.jsx("span",{className:"section-label",children:" Response:"}),l.jsx("div",{className:"section-content",children:e==null?void 0:e.content})]})]}),l.jsxs("div",{className:"feedback-section",children:[l.jsx("label",{htmlFor:"feedback-input",children:"What should be different? (optional)"}),l.jsx("textarea",{id:"feedback-input",className:"feedback-input",placeholder:"e.g., 'Be more formal', 'Don't use that tool', 'Ask for confirmation first', etc.",value:r,onChange:d=>s(d.target.value),onKeyDown:a,rows:3,autoFocus:!0}),l.jsx("span",{className:"hint",children:"Press Ctrl+Enter to regenerate"})]}),l.jsxs("div",{className:"regenerate-dialog-buttons",children:[l.jsx("button",{className:"btn btn-secondary",onClick:n,children:"Cancel"}),l.jsx("button",{className:"btn btn-primary",onClick:o,children:" Regenerate"})]})]})})}const Ih=({policyResult:e,action:t,onApprove:n,onReject:r})=>{var a;const s=c=>{switch(c){case"high":return"#4caf50";case"medium":return"#ff9800";case"low":return"#f44336";default:return"#9e9e9e"}},i=c=>{switch(c){case"high":return"";case"medium":return"";case"low":return"";default:return""}},o=c=>{var d,y;return c.action_type==="text_response"?`Text Response: "${(d=c.content)==null?void 0:d.substring(0,100)}${((y=c.content)==null?void 0:y.length)>100?"...":""}"`:c.action_type==="tool_call"?`Tool Call: ${c.tool_name}(${JSON.stringify(c.arguments||{})})`:JSON.stringify(c)};return l.jsx("div",{className:"policy-review-overlay",children:l.jsxs("div",{className:"policy-review-dialog",children:[l.jsx("h3",{children:" Policy Review Required"}),l.jsxs("div",{className:"policy-review-section",children:[l.jsx("h4",{children:"Action to Review"}),l.jsx("div",{className:"action-preview",children:o(t)}),t.reasoning&&l.jsxs("div",{className:"action-reasoning",children:[l.jsx("strong",{children:"Reasoning:"})," ",t.reasoning]})]}),l.jsxs("div",{className:"policy-review-section",children:[l.jsx("h4",{children:"Policy AI Assessment"}),l.jsxs("div",{className:"confidence-indicator",style:{color:s(e.confidence)},children:[i(e.confidence)," Confidence: ",l.jsx("strong",{children:(a=e.confidence)==null?void 0:a.toUpperCase()})]}),l.jsx("div",{className:`approval-status ${e.approved?"approved":"not-approved"}`,children:e.approved?" Would Approve":" Would Not Approve"})]}),l.jsxs("div",{className:"policy-review-section",children:[l.jsx("h4",{children:"Reason"}),l.jsx("p",{className:"policy-reason",children:e.reason||"No reason provided"})]}),e.policy_concerns&&e.policy_concerns.length>0&&l.jsxs("div",{className:"policy-review-section",children:[l.jsx("h4",{children:"Policy Concerns"}),l.jsx("ul",{className:"policy-concerns-list",children:e.policy_concerns.map((c,d)=>l.jsx("li",{children:c},d))})]}),l.jsxs("div",{className:"policy-review-note",children:[l.jsx("strong",{children:"Note:"})," Auto-approve only triggers on HIGH confidence approvals. This action requires human review because the Policy AI's confidence is not high enough."]}),l.jsxs("div",{className:"policy-review-actions",children:[l.jsx("button",{className:"policy-btn policy-btn-reject",onClick:r,children:"Reject & Regenerate"}),l.jsx("button",{className:"policy-btn policy-btn-approve",onClick:n,children:"Approve Anyway"})]})]})})},Oh=({logs:e,onClose:t})=>{const n=o=>{switch(o){case"high":return"#4caf50";case"medium":return"#ff9800";case"low":return"#f44336";default:return"#9e9e9e"}},r=o=>{switch(o){case"high":return"";case"medium":return"";case"low":return"";default:return""}},s=o=>o?new Date(o).toLocaleTimeString():"N/A",i=o=>{if(!o)return"Unknown action";if(o.action_type==="respond"){const a=o.content||"";return`Text: "${a.substring(0,80)}${a.length>80?"...":""}"`}else if(o.action_type==="tool_call")return`Tool: ${o.tool_name}(${JSON.stringify(o.arguments||{}).substring(0,50)}...)`;return JSON.stringify(o).substring(0,80)};return l.jsx("div",{className:"approval-log-overlay",onClick:t,children:l.jsxs("div",{className:"approval-log-dialog",onClick:o=>o.stopPropagation(),children:[l.jsxs("div",{className:"approval-log-header",children:[l.jsx("h3",{children:" Approval AI Log"}),l.jsx("button",{className:"close-btn",onClick:t,children:""})]}),l.jsx("div",{className:"approval-log-info",children:l.jsxs("p",{children:["The Approval AI (powered by ",l.jsx("strong",{children:"gpt-5.2"}),") evaluates each agent action against the environment policy and approval guidelines."]})}),e.length===0?l.jsxs("div",{className:"approval-log-empty",children:[l.jsx("p",{children:"No approval checks yet."}),l.jsx("p",{className:"hint",children:"Enable Auto-Approve with Autopilot to see approval logs here."})]}):l.jsx("div",{className:"approval-log-list",children:e.map((o,a)=>{var c;return l.jsxs("div",{className:`approval-log-entry ${o.approved?"approved":"flagged"}`,children:[l.jsxs("div",{className:"log-entry-header",children:[l.jsxs("span",{className:"log-number",children:["#",e.length-a]}),l.jsx("span",{className:"log-time",children:s(o.timestamp)}),l.jsxs("span",{className:"log-confidence",style:{color:n(o.confidence)},children:[r(o.confidence)," ",(c=o.confidence)==null?void 0:c.toUpperCase()]}),l.jsx("span",{className:`log-status ${o.approved?"approved":"flagged"}`,children:o.approved?" Auto-Approved":" Flagged for Review"})]}),l.jsxs("div",{className:"log-entry-action",children:[l.jsx("strong",{children:"Action:"})," ",i(o.action_checked)]}),l.jsxs("div",{className:"log-entry-reason",children:[l.jsx("strong",{children:"Decision:"})," ",o.reason]}),o.policy_concerns&&o.policy_concerns.length>0&&l.jsxs("div",{className:"log-entry-concerns",children:[l.jsx("strong",{children:"Policy Concerns:"}),l.jsx("ul",{children:o.policy_concerns.map((d,y)=>l.jsx("li",{children:d},y))})]}),o.analysis&&l.jsxs("details",{className:"log-entry-analysis",children:[l.jsx("summary",{children:"View Detailed Analysis"}),l.jsx("div",{className:"analysis-content",children:o.analysis})]}),l.jsxs("div",{className:"log-entry-model",children:["Model: ",o.model_used||"gpt-5.2"]})]},a)})}),l.jsx("div",{className:"approval-log-footer",children:l.jsx("button",{className:"btn-close",onClick:t,children:"Close"})})]})})};function $h({onSimulationEnd:e,onNewSession:t}){const[n,r]=v.useState(!1),[s,i]=v.useState(""),[o,a]=v.useState(null),[c,d]=v.useState(!1),[y,m]=v.useState(!1),[h,j]=v.useState(null),[x,w]=v.useState(null),[_,f]=v.useState(!1),[u,p]=v.useState(null),[g,N]=v.useState(!1),[k,C]=v.useState(null),[S,T]=v.useState(null),[E,I]=v.useState([]),[Y,J]=v.useState(!1),X=v.useRef(null),Z=v.useRef(null),{sessionId:O,isSimulationActive:M,setIsSimulationActive:P,messages:L,setMessages:$,addMessage:b,removeMessage:B,persona:ae,addRejectedSuggestion:K,setFinalResult:ne,isAutopilotEnabled:H,setIsAutopilotEnabled:ve,isAutoApproveEnabled:ht,autopilotTurnCount:_t,setAutopilotTurnCount:A,AUTOPILOT_TURN_LIMIT:W}=bn(),{showToast:U}=Bn(),tt=v.useCallback(()=>{var z;(z=X.current)==null||z.scrollIntoView({behavior:"smooth"})},[]);v.useEffect(()=>{tt()},[L,tt]);const ee=v.useCallback(z=>{r(!0),i(z)},[]),q=v.useCallback(()=>{r(!1),i("")},[]),be=v.useCallback(z=>{P(!1),d(!0),ne({is_done:z.done,reward:z.reward,reward_info:z.reward_info}),e(z),U("Simulation completed!","success")},[P,ne,e,U]),mt=v.useCallback(async(z,V,he)=>{b("tool",` Calling ${z}
${JSON.stringify(V,null,2)}`,{reasoning:he,toolName:z,toolArguments:V}),ee("Executing tool");try{const ye=await yo(O,z,V);q(),b("tool-result",ye.observation,{toolName:z}),ye.done&&be(ye)}catch(ye){q(),U(ye.message,"error")}},[O,b,ee,q,be,U]),Or=v.useCallback(z=>{z.done?be(z):z.observation&&b("user",z.observation)},[be,b]),Et=v.useCallback(async z=>{if(a(null),d(!1),z.action_type==="respond"){b("agent",z.content,{reasoning:z.reasoning}),ee("User is responding");try{const V=await qu(O,z.content);q(),Or(V)}catch(V){q(),U(V.message,"error")}}else z.action_type==="tool_call"&&await mt(z.tool_name,z.arguments,z.reasoning)},[O,b,ee,q,Or,mt,U]),Xs=v.useCallback(z=>{Et(z)},[Et]),Zs=v.useCallback(()=>{o&&(p({action_type:o.action_type,content:o.content,tool_name:o.tool_name,arguments:o.arguments,reasoning:o.reasoning}),a(null),f(!0))},[o]),F=v.useCallback(async z=>{if(f(!1),!O||!u){d(!1),p(null);return}ee("Regenerating action...");try{const V=await Gu(O,u,z);q(),a(V),p(null)}catch(V){q(),d(!1),p(null),U(V.message,"error")}},[O,u,ee,q,U]),pe=v.useCallback(()=>{f(!1),d(!1),p(null),U("Action cancelled","info")},[U]),ke=v.useCallback(()=>{N(!1),S&&(U("Action approved by human","success"),Et(S)),C(null),T(null)},[S,Et,U]),Ee=v.useCallback(()=>{N(!1),S&&(p({action_type:S.action_type,content:S.content,tool_name:S.tool_name,arguments:S.arguments,reasoning:S.reasoning}),f(!0)),C(null),T(null)},[S]),dn=v.useCallback(async z=>{if(!(!z||!M)){d(!0),ee("Thinking");try{const V=await Yu(O,z);if(q(),ht&&H){ee("Checking policy compliance (gpt-5.2)");try{const he=await Xu(O,V);q(),I(ye=>[he,...ye]),he.approved&&he.confidence==="high"?(U(" Policy AI approved action","success"),Et(V)):(C(he),T(V),N(!0),d(!1))}catch(he){q(),console.error("Policy check failed:",he),I(ye=>[{approved:!1,confidence:"low",reason:`Policy check error: ${he.message}`,policy_concerns:["Technical error"],timestamp:new Date().toISOString(),model_used:"gpt-5.2",action_checked:V},...ye]),a(V)}}else a(V)}catch(V){q(),d(!1),U(V.message,"error")}}},[O,M,ht,H,ee,q,U,Et]),el=v.useCallback(async()=>{await dn("Based on the conversation history, user's request, and the policy/wiki guidelines, determine and execute the most appropriate next action. Follow the standard operating procedures.")},[dn]);v.useEffect(()=>{if(!H||!M||n||o||_)return;const z=L[L.length-1];z&&Z.current!==z.id&&(z.role==="user"||z.role==="tool-result")&&(Z.current=z.id,A(V=>V>=W?(setTimeout(()=>{ve(!1),U(` Autopilot stopped: Turn limit (${W}) reached to prevent infinite loop`,"warning")},0),V):(setTimeout(()=>{el()},500),V+1)))},[L,H,M,n,o,_,el,W,ve,A,U]);const No=v.useRef(!1);v.useEffect(()=>{if(No.current||!O||!M||n||o)return;const z=L[L.length-1];if(z&&z.role==="agent"){No.current=!0;const V=setTimeout(async()=>{ee("Generating user response...");try{const he=await Ni(O,null,null);q(),he.success&&b("user",he.observation)}catch(he){q(),U("Failed to generate user response: "+he.message,"error")}},500);return()=>clearTimeout(V)}},[O,L,M,n,o,ee,q,b,U]);const hd=v.useCallback(async z=>{if(!(!O||z<1))try{ee("Rolling back...");let V=0;for(let ye=0;ye<z;ye++)L[ye].role!=="rejected"&&V++;const he=await wi(O,V);q(),he.success?($(ye=>ye.slice(0,z)),a(null),d(!1),M||P(!0),U(`Rolled back ${he.removed_count} message(s)`,"success")):U(he.error||"Cannot rollback","error")}catch(V){q(),U("Failed to rollback: "+V.message,"error")}},[O,L,M,$,P,ee,q,U]),md=v.useCallback(z=>{const V=L[z];V&&V.role==="user"&&(w(V.content),j(z),m(!0))},[L]),vd=v.useCallback(async z=>{if(m(!1),!O||h===null){j(null),w(null);return}try{ee("Regenerating user response...");const V=h+1;let he=0;for(let Tt=0;Tt<V;Tt++)L[Tt].role!=="rejected"&&he++;if(V<L.length){const Tt=await wi(O,he);if(!Tt.success){q(),U(Tt.error||"Cannot rollback before regenerating","error"),j(null),w(null);return}$(Yt=>Yt.slice(0,V)),a(null),d(!1)}const ye=await Ni(O,x,z);q(),ye.success?($(Tt=>{const Yt=[...Tt];for(let Vn=Yt.length-1;Vn>=0;Vn--)if(Yt[Vn].role==="user"){Yt[Vn]={...Yt[Vn],content:ye.observation,id:Date.now()+Math.random()};break}return Yt}),M||P(!0),U("User response regenerated","success")):U(ye.error||"Cannot regenerate","error")}catch(V){q(),U("Failed to regenerate: "+V.message,"error")}j(null),w(null)},[O,h,x,L,M,$,P,ee,q,U]),gd=v.useCallback(()=>{m(!1),j(null),w(null)},[]),yd=v.useCallback(z=>{B(z),U("Rejected action removed from trajectory","info")},[B,U]);return l.jsxs("div",{className:"chat-panel",children:[l.jsx(wh,{onNewSession:t,approvalLogCount:E.length,onViewApprovalLogs:()=>J(!0)}),ae&&l.jsx(Nh,{content:ae}),l.jsxs("div",{className:"chat-messages",children:[l.jsx(Eh,{messages:L,onRollback:hd,onRegenerateUser:md,onRemoveRejected:yd,isSimulationActive:M,isConversationEnded:!M,onNewSession:t}),o&&l.jsx(Ph,{action:o,onApprove:()=>Xs(o),onReject:Zs}),n&&l.jsx(Rh,{text:s}),l.jsx("div",{ref:X})]}),l.jsx(Th,{onSend:dn,onAutoGenerate:el,disabled:c||!M}),y&&x&&l.jsx(Ah,{rejectedMessage:x,onConfirm:vd,onCancel:gd}),_&&u&&l.jsx(Lh,{rejectedAction:u,onConfirm:F,onCancel:pe}),g&&k&&S&&l.jsx(Ih,{policyResult:k,action:S,onApprove:ke,onReject:Ee}),Y&&l.jsx(Oh,{logs:E,onClose:()=>J(!1)})]})}function Xr({title:e,children:t,defaultExpanded:n=!1,flexGrow:r=!1}){const[s,i]=v.useState(n);return l.jsxs("div",{className:`panel-card ${r?"panel-card-flex-grow":""}`,children:[l.jsxs("div",{className:"panel-card-header",onClick:()=>i(!s),children:[l.jsx("span",{children:e}),l.jsx("span",{className:`panel-toggle ${s?"expanded":""}`,children:""})]}),s&&l.jsx("div",{className:`panel-card-content ${r?"panel-card-content-flex":""}`,children:t})]})}function Dh({tool:e}){const[t,n]=v.useState({}),[r,s]=v.useState(!1),{sessionId:i,isSimulationActive:o,addMessage:a}=bn(),{showToast:c}=Bn(),d=(x,w)=>{n(_=>({..._,[x]:w}))},y=(x,w)=>{if(x)switch(w){case"integer":return parseInt(x);case"number":return parseFloat(x);case"boolean":return x.toLowerCase()==="true";case"array":case"object":try{return JSON.parse(x)}catch{return w==="array"?x.split(",").map(_=>_.trim()):x}default:return x}},m=async()=>{if(!o)return;s(!0);const x={};for(const[w,_]of Object.entries(e.parameters||{})){const f=t[w];f&&(x[w]=y(f,_.type))}try{a("tool",` Calling ${e.name}
${JSON.stringify(x,null,2)}`,{toolName:e.name,toolArguments:x});const w=await yo(i,e.name,x);a("tool-result",w.observation,{toolName:e.name})}catch(w){c(w.message,"error")}finally{s(!1)}},h=e.parameters||{},j=e.required_params||[];return l.jsxs("div",{className:"tool-form",children:[l.jsx("h4",{children:e.name}),Object.entries(h).map(([x,w])=>l.jsxs("div",{className:"tool-param",children:[l.jsxs("label",{children:[x,j.includes(x)&&l.jsx("span",{className:"required",children:"*"}),l.jsxs("span",{className:"param-type",children:["(",w.type,")"]})]}),l.jsx("input",{type:"text",value:t[x]||"",onChange:_=>d(x,_.target.value),placeholder:w.description||""})]},x)),l.jsx("button",{className:"btn btn-primary",onClick:m,disabled:r||!o,children:r?"Executing...":"Execute Tool"})]})}function pd({tools:e}){const[t,n]=v.useState(null),r=s=>{n(t===s?null:s)};return l.jsxs("div",{className:"tools-container",children:[l.jsx("div",{className:"tools-list",children:e.map((s,i)=>{var o;return l.jsxs("div",{className:`tool-item ${t===i?"selected":""}`,onClick:()=>r(i),children:[l.jsx("div",{className:"tool-name",children:s.name}),l.jsxs("div",{className:"tool-desc",children:[(o=s.description)==null?void 0:o.slice(0,80),"..."]})]},s.name)})}),t!==null&&l.jsx(Dh,{tool:e[t]})]})}function Mh({answer:e}){if(!e)return null;const t=e.split(/(Policy Basis:|Relevant Policy:|From the policy:|Policy Reference:)/gi);if(t.length<=1){const n=e.split(/("[^"]+"|'[^']+')/g);return l.jsx("div",{className:"policy-answer-content",children:n.map((r,s)=>r.startsWith('"')||r.startsWith("'")?l.jsx("span",{className:"policy-quote-highlight",children:r},s):l.jsx("span",{children:r},s))})}return l.jsx("div",{className:"policy-answer-content",children:t.map((n,r)=>/Policy Basis:|Relevant Policy:|From the policy:|Policy Reference:/i.test(n)?l.jsx("span",{className:"policy-section-label",children:n},r):r>0&&/Policy Basis:|Relevant Policy:|From the policy:|Policy Reference:/i.test(t[r-1])?l.jsx("div",{className:"policy-citation-block",children:n.trim()},r):l.jsx("span",{children:n},r))})}function Fh(){const{tools:e,persona:t,wiki:n,sessionId:r}=bn(),[s,i]=v.useState(""),[o,a]=v.useState(!1),[c,d]=v.useState([]),y=v.useRef(null),m=v.useRef(null);v.useEffect(()=>{y.current&&c.length>0&&(y.current.scrollTop=y.current.scrollHeight)},[c]);const h=async()=>{if(!s.trim()||!r)return;const j=s.trim();a(!0),i(""),d(x=>[...x,{question:j,answer:null,isLoading:!0}]);try{const x=`You are a Policy Support AI assisting a customer service agent. Your role is to help the agent understand and apply company policies correctly.

Here is the company policy document:

---POLICY DOCUMENT---
${n}
---END POLICY DOCUMENT---

Agent's Question: ${j}

IMPORTANT: You MUST structure your response EXACTLY as follows:

**Answer:** [Provide a clear, direct, and actionable answer to the agent's question]

**Policy Basis:** [Quote the EXACT text from the policy document that supports your answer. Use quotation marks around the exact policy text. If multiple sections apply, list each one.]

Be specific and cite the actual policy text. Do not paraphrase - use exact quotes from the policy.`,_=(await xo(r,x)).response||"Unable to generate answer";d(f=>{const u=[...f];return u[u.length-1]={question:j,answer:_,isLoading:!1},u})}catch(x){d(w=>{const _=[...w];return _[_.length-1]={question:j,answer:`Error: ${x.message}`,isLoading:!1},_})}finally{a(!1)}};return l.jsxs("div",{className:"side-panel",children:[l.jsx(Xr,{title:" Policy AI",defaultExpanded:!0,flexGrow:!0,children:n&&r?l.jsxs("div",{className:"desktop-policy-qa-standalone",children:[l.jsx("div",{className:"policy-qa-conversation-desktop",ref:y,children:c.length===0?l.jsxs("div",{className:"qa-empty-state-desktop",children:[l.jsx("span",{children:""}),l.jsx("p",{children:"Ask questions about the policy and I'll help you find the right answer with exact citations."})]}):c.map((j,x)=>l.jsxs("div",{className:"qa-exchange-desktop",children:[l.jsxs("div",{className:"qa-question-desktop",children:[l.jsx("span",{className:"qa-role-desktop",children:" You"}),l.jsx("p",{children:j.question})]}),l.jsxs("div",{className:"qa-answer-desktop",children:[l.jsx("span",{className:"qa-role-desktop",children:" Policy AI"}),j.isLoading?l.jsx("p",{className:"qa-loading-desktop",children:l.jsx("span",{className:"loading-dots",children:"Searching policy"})}):l.jsx(Mh,{answer:j.answer})]})]},x))}),l.jsxs("div",{className:"policy-qa-input-row-desktop",children:[l.jsx("input",{ref:m,type:"text",className:"policy-qa-input-desktop",placeholder:"Ask about policy...",value:s,onChange:j=>i(j.target.value),onKeyDown:j=>j.key==="Enter"&&h(),disabled:o}),l.jsx("button",{className:"policy-qa-btn-desktop",onClick:h,disabled:o||!s.trim(),title:"Ask Policy AI",children:o?"...":""})]})]}):l.jsxs("div",{className:"qa-empty-state-desktop",children:[l.jsx("span",{children:""}),l.jsx("p",{children:"Load a policy document to use Policy AI"})]})}),l.jsx(Xr,{title:" Tools",defaultExpanded:!0,children:l.jsx(pd,{tools:e})}),l.jsx(Xr,{title:" User Persona",children:l.jsx("div",{className:"persona-display",children:t||"No persona loaded"})}),l.jsx(Xr,{title:" Policy / Wiki",children:l.jsx("div",{className:"wiki-content",children:n||"No wiki loaded"})})]})}function zh({answer:e}){if(!e)return null;const t=e.split(/(Policy Basis:|Relevant Policy:|From the policy:|Policy Reference:|\*\*Policy Basis:\*\*|\*\*Answer:\*\*)/gi);if(t.length<=1){const n=e.split(/("[^"]+"|'[^']+')/g);return l.jsx("div",{className:"policy-answer-content",children:n.map((r,s)=>r.startsWith('"')||r.startsWith("'")?l.jsx("span",{className:"policy-quote-highlight",children:r},s):l.jsx("span",{children:r},s))})}return l.jsx("div",{className:"policy-answer-content",children:t.map((n,r)=>/Policy Basis:|\*\*Policy Basis:\*\*/i.test(n)?l.jsx("span",{className:"policy-section-label",children:" Policy Basis:"},r):/\*\*Answer:\*\*/i.test(n)?l.jsx("span",{className:"policy-section-label",children:" Answer:"},r):/Relevant Policy:|From the policy:|Policy Reference:/i.test(n)?l.jsx("span",{className:"policy-section-label",children:n},r):r>0&&/Policy Basis:|Relevant Policy:|From the policy:|Policy Reference:|\*\*Policy Basis:\*\*/i.test(t[r-1])?l.jsx("div",{className:"policy-citation-block",children:n.trim()},r):l.jsx("span",{children:n},r))})}function Uh({onNewSession:e}){const[t,n]=v.useState(!1),[r,s]=v.useState("policyai"),[i,o]=v.useState(""),[a,c]=v.useState(!1),[d,y]=v.useState([]),m=v.useRef(null),h=v.useRef(null),{tools:j,persona:x,wiki:w,isAutopilotEnabled:_,setIsAutopilotEnabled:f,trajectoryId:u,sessionId:p,isAutoSaving:g,lastSaveTime:N}=bn();v.useEffect(()=>{m.current&&d.length>0&&(m.current.scrollTop=m.current.scrollHeight)},[d]),v.useEffect(()=>{r==="policyai"&&t&&setTimeout(()=>{var E;(E=h.current)==null||E.focus()},100)},[r,t]);const k=[{id:"policyai",label:" Policy AI",icon:""},{id:"wiki",label:" Policy",icon:""},{id:"persona",label:" Persona",icon:""},{id:"tools",label:" Tools",icon:""},{id:"settings",label:" Settings",icon:""}],C=async()=>{if(!i.trim()||!p)return;const E=i.trim();c(!0),o(""),y(I=>[...I,{question:E,answer:null,isLoading:!0}]);try{const I=`You are a Policy Support AI assisting a customer service agent. Your role is to help the agent understand and apply company policies correctly.

Here is the company policy document:

---POLICY DOCUMENT---
${w}
---END POLICY DOCUMENT---

Agent's Question: ${E}

IMPORTANT: You MUST structure your response EXACTLY as follows:

**Answer:** [Provide a clear, direct, and actionable answer to the agent's question]

**Policy Basis:** [Quote the EXACT text from the policy document that supports your answer. Use quotation marks around the exact policy text. If multiple sections apply, list each one.]

Be specific and cite the actual policy text. Do not paraphrase - use exact quotes from the policy.`,J=(await xo(p,I)).response||"Unable to generate answer";y(X=>{const Z=[...X];return Z[Z.length-1]={question:E,answer:J,isLoading:!1},Z})}catch(I){y(Y=>{const J=[...Y];return J[J.length-1]={question:E,answer:`Error: ${I.message}`,isLoading:!1},J})}finally{c(!1)}},S=E=>{if(!E)return"";const I=Math.floor((new Date-E)/1e3);if(I<60)return"just now";const Y=Math.floor(I/60);return Y<60?`${Y}m ago`:`${Math.floor(Y/60)}h ago`},T=()=>g?{icon:"",text:"Saving..."}:u&&N?{icon:"",text:`Saved ${S(N)}`}:{icon:"",text:"Unsaved"};return l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"mobile-info-toggle",onClick:()=>n(!0),"aria-label":"Show info panel",children:l.jsx("span",{className:"info-icon",children:""})}),t&&l.jsx("div",{className:"mobile-info-backdrop",onClick:()=>n(!1)}),l.jsxs("div",{className:`mobile-info-panel ${t?"open":""}`,children:[l.jsxs("div",{className:"mobile-info-header",children:[l.jsx("h3",{children:"Context Info"}),l.jsx("button",{className:"close-btn",onClick:()=>n(!1),"aria-label":"Close panel",children:""})]}),l.jsx("div",{className:"mobile-info-tabs",children:k.map(E=>l.jsxs("button",{className:`tab-btn ${r===E.id?"active":""}`,onClick:()=>s(E.id),children:[l.jsx("span",{className:"tab-icon",children:E.icon}),l.jsx("span",{className:"tab-label",children:E.label.split(" ")[1]})]},E.id))}),l.jsxs("div",{className:"mobile-info-content",children:[r==="policyai"&&l.jsx("div",{className:"info-section policy-ai-section",children:w&&p?l.jsxs("div",{className:"policy-ai-container",children:[l.jsx("div",{className:"policy-qa-conversation-full",ref:m,children:d.length===0?l.jsxs("div",{className:"qa-empty-state",children:[l.jsx("span",{children:""}),l.jsx("h4",{children:"Policy AI Assistant"}),l.jsx("p",{children:"Ask questions about the policy and I'll help you find the right answer with exact citations from the policy document."})]}):d.map((E,I)=>l.jsxs("div",{className:"qa-exchange",children:[l.jsxs("div",{className:"qa-question",children:[l.jsx("span",{className:"qa-role",children:" You"}),l.jsx("p",{children:E.question})]}),l.jsxs("div",{className:"qa-answer",children:[l.jsx("span",{className:"qa-role",children:" Policy AI"}),E.isLoading?l.jsx("p",{className:"qa-loading",children:"Searching policy..."}):l.jsx(zh,{answer:E.answer})]})]},I))}),l.jsxs("div",{className:"policy-qa-input-row-fixed",children:[l.jsx("input",{ref:h,type:"text",className:"policy-qa-input",placeholder:"Ask about policy...",value:i,onChange:E=>o(E.target.value),onKeyDown:E=>E.key==="Enter"&&C(),disabled:a}),l.jsx("button",{className:"policy-qa-btn",onClick:C,disabled:a||!i.trim(),children:a?"...":""})]})]}):l.jsxs("div",{className:"qa-empty-state",children:[l.jsx("span",{children:""}),l.jsx("p",{children:"Load a policy document to use Policy AI"})]})}),r==="settings"&&l.jsx("div",{className:"info-section",children:l.jsxs("div",{className:"mobile-settings",children:[l.jsxs("div",{className:"mobile-setting-row",children:[l.jsx("span",{className:"setting-label",children:" Autopilot"}),l.jsxs("label",{className:"toggle-switch",children:[l.jsx("input",{type:"checkbox",checked:_,onChange:E=>f(E.target.checked)}),l.jsx("span",{className:"toggle-slider"})]})]}),l.jsx("p",{className:"setting-hint",children:"Auto-triggers action after each user/tool response"}),l.jsxs("div",{className:"mobile-setting-row",children:[l.jsx("span",{className:"setting-label",children:" Save Status"}),l.jsxs("span",{className:"save-status",children:[T().icon," ",T().text]})]}),u&&l.jsxs("p",{className:"setting-hint",children:["ID: ",u.slice(0,12),"..."]}),e&&l.jsx("button",{className:"btn btn-new-trajectory-mobile",onClick:()=>{n(!1),e()},children:" New Trajectory"})]})}),r==="persona"&&l.jsx("div",{className:"info-section",children:l.jsx("div",{className:"persona-display",children:x||"No persona loaded"})}),r==="tools"&&l.jsx("div",{className:"info-section",children:l.jsx(pd,{tools:j})}),r==="wiki"&&l.jsx("div",{className:"info-section",children:l.jsx("div",{className:"wiki-content",children:w||"No wiki loaded"})})]})]})]})}function bh({title:e,message:t,onConfirm:n,onCancel:r}){const s=i=>{i.target===i.currentTarget&&r()};return l.jsx("div",{className:"confirm-overlay",onClick:s,children:l.jsxs("div",{className:"confirm-dialog",children:[l.jsx("h3",{children:e}),l.jsx("p",{children:t}),l.jsxs("div",{className:"confirm-dialog-buttons",children:[l.jsx("button",{className:"btn btn-danger",onClick:r,children:"Cancel"}),l.jsx("button",{className:"btn btn-success",onClick:n,children:"Confirm"})]})]})})}function Bh({trajectoryId:e,onNavigate:t}){const[n,r]=v.useState(!0),[s,i]=v.useState(null),[o,a]=v.useState(!1),[c,d]=v.useState(!1),[y,m]=v.useState({}),[h,j]=v.useState(null),{sessionId:x,setSessionId:w,setIsSimulationActive:_,setTools:f,setPersona:u,setWiki:p,messages:g,setMessages:N,clearMessages:k,resetSession:C,setTrajectoryId:S,markMessagesSaved:T,finalResult:E,setAutopilotTurnCount:I}=bn(),{showToast:Y}=Bn();v.useEffect(()=>{if(!e){i("No trajectory ID provided"),r(!1);return}J()},[e]);const J=async()=>{r(!0),i(null);try{const{getTrajectoryByIdAnyEnv:M}=await jh(async()=>{const{getTrajectoryByIdAnyEnv:B}=await Promise.resolve().then(()=>Yp);return{getTrajectoryByIdAnyEnv:B}},void 0);let P;try{P=await M(e)}catch{throw new Error("Trajectory not found. It may have been deleted or the ID is invalid.")}const L=P.env_name;j(L);const $=await Ku(e,L,{userModel:"gpt-5-mini",userProvider:"openai"});if(w($.session_id),S(e),f($.tools),u($.persona),p($.wiki),I(0),$.messages&&$.messages.length>0){const B=$.messages.map((ae,K)=>({id:Date.now()+K+Math.random(),role:ae.role,content:ae.content,reasoning:ae.reasoning||null,isTemporary:!1,timestamp:ae.timestamp||new Date().toISOString(),tool_name:ae.tool_name||null,tool_arguments:ae.tool_arguments||null,rejected:ae.rejected||null}));N(B),T(B)}const b=P.is_done;a(b),_(!b),r(!1)}catch(M){console.error("Failed to load trajectory:",M),i(M.message||"Failed to load trajectory"),r(!1)}},X=v.useCallback(M=>{a(M.done)},[]),Z=v.useCallback(()=>{k(),C(),t("/")},[k,C,t]),O=v.useCallback(()=>{g.length>0?(m({title:" Start New Trajectory",message:"Are you sure you want to start a new trajectory? You can always come back to this one from the Trajectory page.",onConfirm:()=>{Z(),d(!1)},onCancel:()=>d(!1)}),d(!0)):Z()},[g,Z]);return n?l.jsx("div",{className:"simulation-page",children:l.jsxs("div",{className:"simulation-loading",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Loading trajectory..."})]})}):s?l.jsx("div",{className:"simulation-page",children:l.jsxs("div",{className:"simulation-error",children:[l.jsx("h2",{children:" Error Loading Trajectory"}),l.jsx("p",{children:s}),l.jsx("button",{className:"btn btn-primary",onClick:()=>t("/"),children:" Back to Setup"})]})}):l.jsxs("div",{className:"simulation-page",children:[l.jsxs("div",{className:"simulation-header",children:[l.jsx("button",{className:"btn btn-header btn-back",onClick:()=>t("/"),children:""}),l.jsxs("span",{className:"trajectory-badge",children:[" ",e.slice(0,8),"..."]}),l.jsx("span",{className:`status-badge ${o?"complete":"incomplete"}`,children:o?" Complete":" In Progress"}),l.jsx("div",{className:"header-spacer"})]}),l.jsxs("div",{className:"main-content",children:[l.jsx($h,{onSimulationEnd:X,onNewSession:O}),l.jsx(Fh,{})]}),l.jsx(Uh,{onNewSession:O}),c&&l.jsx(bh,{title:y.title,message:y.message,onConfirm:y.onConfirm,onCancel:y.onCancel})]})}function El(e){const t=e.match(/^\/trajectories\/([^/]+)\/simulation$/);return t?{view:"simulation",trajectoryId:t[1]}:e==="/trajectory"||e==="/admin"?{view:"trajectory",trajectoryId:null}:e==="/env-config"?{view:"environments",trajectoryId:null}:{view:"simulator",trajectoryId:null}}function Vh(){const[e,t]=v.useState(()=>El(window.location.pathname));v.useEffect(()=>{const s=()=>{t(El(window.location.pathname))};return window.addEventListener("popstate",s),()=>window.removeEventListener("popstate",s)},[]);const n=v.useCallback(s=>{window.history.pushState({},"",s),t(El(s))},[]),r=e.view;return l.jsx(Gp,{children:l.jsxs(Zp,{currentView:r,onNavigate:s=>{n(s==="trajectory"?"/trajectory":s==="environments"?"/env-config":"/")},children:[e.view==="trajectory"?l.jsx(oh,{}):e.view==="environments"?l.jsx(gh,{}):e.view==="simulation"?l.jsxs(qp,{children:[l.jsx(Bh,{trajectoryId:e.trajectoryId,onNavigate:n}),l.jsx(La,{})]}):l.jsxs("div",{className:"simulator-page",children:[l.jsx(eh,{}),l.jsx(nh,{onNavigate:n})]}),e.view!=="simulation"&&l.jsx(La,{})]})})}Tl.createRoot(document.getElementById("root")).render(l.jsx($d.StrictMode,{children:l.jsx(Vh,{})}));
